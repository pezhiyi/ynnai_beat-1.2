"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/draw",{

/***/ "./pages/draw.js":
/*!***********************!*\
  !*** ./pages/draw.js ***!
  \***********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Draw; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! framer-motion */ \"./node_modules/framer-motion/dist/es/index.mjs\");\n/* harmony import */ var _components_Layout_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/Layout/Layout */ \"./components/Layout/Layout.js\");\n/* harmony import */ var _components_AIPortraitModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/AIPortraitModal */ \"./components/AIPortraitModal.js\");\n/* harmony import */ var _components_ArchiveModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ArchiveModal */ \"./components/ArchiveModal.js\");\n/* harmony import */ var _components_ImageEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ImageEditor */ \"./components/ImageEditor.js\");\n/* harmony import */ var _services_slotService_SlotSelector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/slotService/SlotSelector */ \"./services/slotService/SlotSelector.js\");\n/* harmony import */ var _components_EditHint__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/EditHint */ \"./components/EditHint.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n // 修正导入路径\n // 导入EditHint组件\nfunction Draw() {\n    var _layerTransforms_editingLayer, _layerTransforms_editingLayer1, _layerPositions_editingLayer, _layerPositions_editingLayer1;\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    const [hasImage, setHasImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [layers, setLayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showLayers, setShowLayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const layerInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [selectedLayer, setSelectedLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [layerPositions, setLayerPositions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [isDraggingImage, setIsDraggingImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dragStart, setDragStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [imageCache, setImageCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const offscreenCanvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [showAIPortraitModal, setShowAIPortraitModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showArchiveModal, setShowArchiveModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showButtons, setShowButtons] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showEditHint, setShowEditHint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // 添加编辑提示状态\n    // 新增编辑模式相关状态\n    const [editMode, setEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editingLayer, setEditingLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [layerTransforms, setLayerTransforms] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [isEditModalOpen, setIsEditModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // 新增编辑弹窗状态\n    // 计算画布尺寸\n    const calculateDimensions = ()=>{\n        const padding = 16;\n        const buttonAreaHeight = 80;\n        const topOffset = 50;\n        // 增加最大宽度\n        const maxWidth = Math.min(window.innerWidth - padding * 2, 800);\n        // 根据3:4比例计算高度\n        const aspectRatio = 3 / 4;\n        const width = maxWidth;\n        const height = width / aspectRatio;\n        // 确保高度不超过可用空间\n        const maxHeight = window.innerHeight - padding * 2 - buttonAreaHeight - topOffset;\n        // 如果计算的高度超过最大高度，则反向计算宽度\n        if (height > maxHeight) {\n            const adjustedHeight = maxHeight;\n            const adjustedWidth = adjustedHeight * aspectRatio;\n            setDimensions({\n                width: adjustedWidth,\n                height: adjustedHeight\n            });\n        } else {\n            setDimensions({\n                width,\n                height\n            });\n        }\n    };\n    // 初始化和监听窗口大小变化\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // 计算画布尺寸\n        calculateDimensions();\n        window.addEventListener(\"resize\", calculateDimensions);\n        // 初始化槽位选择器\n        console.log(\"初始化槽位选择器\");\n        window.slotSelector = _services_slotService_SlotSelector__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getInstance();\n        return ()=>{\n            window.removeEventListener(\"resize\", calculateDimensions);\n        };\n    }, []);\n    // 初始化画布\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (canvasRef.current && dimensions.width && dimensions.height) {\n            const canvas = canvasRef.current;\n            const ctx = canvas.getContext(\"2d\");\n            // 获取设备像素比\n            const dpr = window.devicePixelRatio || 1;\n            // 设置画布的实际大小\n            canvas.width = dimensions.width * dpr;\n            canvas.height = dimensions.height * dpr;\n            // 设置画布的显示大小\n            canvas.style.width = \"\".concat(dimensions.width, \"px\");\n            canvas.style.height = \"\".concat(dimensions.height, \"px\");\n            // 根据设备像素比缩放上下文\n            ctx.scale(dpr, dpr);\n            // 设置渲染优化\n            ctx.imageSmoothingEnabled = true;\n            ctx.imageSmoothingQuality = \"high\";\n            // 填充白色背景\n            ctx.fillStyle = \"#ffffff\";\n            ctx.fillRect(0, 0, dimensions.width, dimensions.height);\n        }\n    }, [\n        dimensions\n    ]);\n    // 处理拖拽事件\n    const handleDragOver = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n    };\n    const handleDragLeave = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n    };\n    const handleDrop = (e)=>{\n        var _e_dataTransfer_files;\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n        const file = (_e_dataTransfer_files = e.dataTransfer.files) === null || _e_dataTransfer_files === void 0 ? void 0 : _e_dataTransfer_files[0];\n        if (file) {\n            handleFile(file);\n        }\n    };\n    // 统一处理文件\n    const handleFile = (file)=>{\n        if (!file.type.startsWith(\"image/\")) {\n            alert(\"请选择图片文件\");\n            return;\n        }\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            var _e_target;\n            const img = new Image();\n            img.onload = ()=>{\n                var _e_target;\n                const canvas = canvasRef.current;\n                if (!canvas) return;\n                const ctx = canvas.getContext(\"2d\");\n                const dpr = window.devicePixelRatio || 1;\n                // 保持3:4的画布比例\n                const canvasRatio = 3 / 4;\n                // 计算画布尺寸，基于图片尺寸\n                let canvasWidth = dimensions.width * dpr;\n                let canvasHeight = canvasWidth / canvasRatio;\n                // 设置画布尺寸\n                canvas.width = canvasWidth;\n                canvas.height = canvasHeight;\n                canvas.style.width = \"\".concat(canvasWidth / dpr, \"px\");\n                canvas.style.height = \"\".concat(canvasHeight / dpr, \"px\");\n                // 清空画布并设置白色背景\n                ctx.fillStyle = \"#ffffff\";\n                ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n                // 设置渲染优化\n                ctx.imageSmoothingEnabled = true;\n                ctx.imageSmoothingQuality = \"high\";\n                // 计算图片缩放和位置\n                const imageRatio = img.width / img.height;\n                let targetWidth, targetHeight, x, y;\n                if (imageRatio === 1) {\n                    // 正方形图片，居中显示\n                    const size = Math.min(canvasWidth, canvasHeight);\n                    targetWidth = size;\n                    targetHeight = size;\n                    x = (canvasWidth - size) / 2;\n                    y = (canvasHeight - size) / 2;\n                } else if (imageRatio > 1) {\n                    // 横向图片，适应宽度\n                    targetWidth = canvasWidth;\n                    targetHeight = canvasWidth / imageRatio;\n                    x = 0;\n                    y = (canvasHeight - targetHeight) / 2;\n                } else {\n                    // 纵向图片，适应高度\n                    targetHeight = canvasHeight;\n                    targetWidth = canvasHeight * imageRatio;\n                    x = (canvasWidth - targetWidth) / 2;\n                    y = 0;\n                }\n                // 绘制图片\n                ctx.drawImage(img, x, y, targetWidth, targetHeight);\n                setHasImage(true);\n                setShowEditHint(true); // 显示编辑提示\n                const newLayer = {\n                    id: Date.now(),\n                    name: file.name,\n                    src: ((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result) || \"\",\n                    visible: true,\n                    width: img.width,\n                    height: img.height,\n                    order: 1 // 添加order属性，新图层始终为1号\n                };\n                // 更新其他图层的order\n                setLayers((prevLayers)=>{\n                    const updatedLayers = prevLayers.map((layer)=>({\n                            ...layer,\n                            order: layer.order + 1\n                        }));\n                    return [\n                        newLayer,\n                        ...updatedLayers\n                    ];\n                });\n                // 设置新图层位置\n                setLayerPositions((prev)=>({\n                        ...prev,\n                        [newLayer.id]: {\n                            x: 0,\n                            y: 0\n                        }\n                    }));\n                // 自动选中新图层\n                setSelectedLayer(newLayer.id);\n            };\n            img.src = ((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result) || \"\";\n        };\n        reader.readAsDataURL(file);\n    };\n    // 处理图片上传\n    const handleUpload = ()=>{\n        var _fileInputRef_current;\n        (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n    };\n    // 处理文件选择\n    const handleFileSelect = (event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        if (file) {\n            handleFile(file);\n        }\n    };\n    // 处理智能画像选择\n    const handlePortraitStyleSelect = async (styleId)=>{\n        try {\n            console.log(\"开始处理风格选择:\", styleId);\n            // 确保 slotSelector 已初始化\n            if (!window.slotSelector) {\n                console.log(\"重新初始化槽位选择器\");\n                window.slotSelector = _services_slotService_SlotSelector__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getInstance();\n            }\n            // 获取画布图片数据\n            console.log(\"获取画布图片数据...\");\n            const imageBlob = await getCanvasImage();\n            console.log(\"画布图片数据大小:\", imageBlob.size);\n            // 生成时间戳和日期目录\n            const now = new Date();\n            const year = now.getFullYear();\n            const month = String(now.getMonth() + 1).padStart(2, \"0\");\n            const day = String(now.getDate()).padStart(2, \"0\");\n            const hours = String(now.getHours()).padStart(2, \"0\");\n            const minutes = String(now.getMinutes()).padStart(2, \"0\");\n            const seconds = String(now.getSeconds()).padStart(2, \"0\");\n            // 构建日期目录和时间戳\n            const dateDir = \"\".concat(year).concat(month).concat(day);\n            const timestamp = \"\".concat(year).concat(month).concat(day).concat(hours).concat(minutes).concat(seconds);\n            console.log(\"生成的日期目录:\", dateDir);\n            console.log(\"生成的时间戳:\", timestamp);\n            // 上传图片到服务端 API\n            console.log(\"准备上传图片...\");\n            const formData = new FormData();\n            formData.append(\"file\", imageBlob, \"image.png\");\n            formData.append(\"dateDir\", dateDir);\n            formData.append(\"timestamp\", timestamp);\n            formData.append(\"styleId\", styleId);\n            // 发送到服务端 API\n            console.log(\"发送上传请求...\");\n            const response = await fetch(\"/api/upload\", {\n                method: \"POST\",\n                body: formData\n            });\n            if (!response.ok) {\n                throw new Error(\"Upload failed\");\n            }\n            const { url } = await response.json();\n            console.log(\"上传成功，返回URL:\", url);\n            // 关闭模态框\n            setShowAIPortraitModal(false);\n            // 构造文件名\n            const fileName = \"YnnAI-\".concat(timestamp, \"_\").concat(styleId, \".png\");\n            console.log(\"生成的文件名:\", fileName);\n            // 将文件名传给图槽选择器并激活图槽\n            if (window.slotSelector) {\n                console.log(\"开始设置槽位...\");\n                console.log(\"传入的文件名:\", fileName);\n                const { slotId, slotData } = await window.slotSelector.setSlotNameAndActivate(fileName);\n                console.log(\"槽位设置成功:\");\n                console.log(\"- 槽位ID:\", slotId);\n                console.log(\"- 槽位数据:\", slotData);\n                // 打开存档仓库显示进度\n                console.log(\"打开存档仓库显示进度\");\n                setShowArchiveModal(true);\n            } else {\n                console.warn(\"未找到 slotSelector 实例\");\n            }\n        } catch (error) {\n            console.error(\"处理风格选择时出错:\", error);\n        // 这里可以添加错误处理UI提示\n        }\n    };\n    // 处理图片下载\n    const handleDownload = ()=>{\n        // 先取消选中状态\n        setSelectedLayer(null);\n        // 延迟一帧执行下载，确保选中状态被清除\n        requestAnimationFrame(()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            // 创建临时链接并触发下载\n            const link = document.createElement(\"a\");\n            link.download = \"canvas-image.png\";\n            link.href = canvas.toDataURL(\"image/png\");\n            link.click();\n        });\n    };\n    // 处理存档\n    const handleArchive = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setShowArchiveModal(true);\n    }, []);\n    // 处理图层上传\n    const handleLayerUpload = ()=>{\n        var _layerInputRef_current;\n        (_layerInputRef_current = layerInputRef.current) === null || _layerInputRef_current === void 0 ? void 0 : _layerInputRef_current.click();\n    };\n    // 处理图层文件选择\n    const handleLayerFileSelect = (event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        if (file) {\n            handleLayerFile(file);\n        }\n    };\n    // 处理图层文件\n    const handleLayerFile = (file)=>{\n        if (!file.type.startsWith(\"image/\")) {\n            alert(\"请选择图片文件\");\n            return;\n        }\n        if (layers.length >= 5) {\n            alert(\"最多只能添加5个图层\");\n            return;\n        }\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            var _e_target;\n            const img = new Image();\n            img.onload = ()=>{\n                var _e_target;\n                const newLayer = {\n                    id: Date.now(),\n                    name: file.name,\n                    src: ((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result) || \"\",\n                    visible: true,\n                    width: img.width,\n                    height: img.height,\n                    order: 1 // 添加order属性，新图层始终为1号\n                };\n                // 更新其他图层的order\n                setLayers((prevLayers)=>{\n                    const updatedLayers = prevLayers.map((layer)=>({\n                            ...layer,\n                            order: layer.order + 1\n                        }));\n                    return [\n                        newLayer,\n                        ...updatedLayers\n                    ];\n                });\n                // 设置新图层位置\n                setLayerPositions((prev)=>({\n                        ...prev,\n                        [newLayer.id]: {\n                            x: 0,\n                            y: 0\n                        }\n                    }));\n                // 自动选中新图层\n                setSelectedLayer(newLayer.id);\n            };\n            img.src = ((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result) || \"\";\n        };\n        reader.readAsDataURL(file);\n    };\n    // 处理图层上移\n    const handleMoveUp = (index)=>{\n        if (index === 0) return;\n        setLayers((prevLayers)=>{\n            const newLayers = [\n                ...prevLayers\n            ];\n            const currentLayer = newLayers[index];\n            const upperLayer = newLayers[index - 1];\n            // 交换order值\n            const tempOrder = currentLayer.order;\n            currentLayer.order = upperLayer.order;\n            upperLayer.order = tempOrder;\n            // 根据order排序\n            return newLayers.sort((a, b)=>a.order - b.order);\n        });\n    };\n    // 处理图层下移\n    const handleMoveDown = (index)=>{\n        if (index === layers.length - 1) return;\n        setLayers((prevLayers)=>{\n            const newLayers = [\n                ...prevLayers\n            ];\n            const currentLayer = newLayers[index];\n            const lowerLayer = newLayers[index + 1];\n            // 交换order值\n            const tempOrder = currentLayer.order;\n            currentLayer.order = lowerLayer.order;\n            lowerLayer.order = tempOrder;\n            // 根据order排序\n            return newLayers.sort((a, b)=>a.order - b.order);\n        });\n    };\n    // 处理图层可见性切换\n    const handleLayerVisibility = (layerId)=>{\n        setLayers((prevLayers)=>prevLayers.map((layer)=>layer.id === layerId ? {\n                    ...layer,\n                    visible: !layer.visible\n                } : layer));\n    };\n    // 处理图层选择\n    const handleLayerSelect = (layerId, e)=>{\n        e === null || e === void 0 ? void 0 : e.stopPropagation();\n        // 如果在编辑模式且选中的不是当前编辑的图层，不允许切换\n        if (editMode && layerId !== editingLayer) {\n            return;\n        }\n        // 如果点击的是当前选中的图层，并且不在编辑模式，则取消选中\n        if (layerId === selectedLayer && !editMode) {\n            setSelectedLayer(null);\n            return;\n        }\n        // 选中新图层\n        setSelectedLayer(layerId);\n        // 如果该图层不可见，则设为可见\n        setLayers((prevLayers)=>prevLayers.map((layer)=>layer.id === layerId ? {\n                    ...layer,\n                    visible: true\n                } : layer));\n    };\n    // 进入编辑模式\n    const handleEditLayer = (layerId)=>{\n        // 如果图层面板打开，不进入编辑模式\n        if (showLayers) return;\n        setEditMode(true);\n        setEditingLayer(layerId);\n        // 获取当前变换值\n        const currentTransform = layerTransforms[layerId] || {\n            rotation: 0,\n            scale: 1,\n            translateX: 0,\n            translateY: 0\n        };\n        // 更新变换值，保持当前状态\n        setLayerTransforms((prev)=>({\n                ...prev,\n                [layerId]: {\n                    ...currentTransform,\n                    previousState: {\n                        ...currentTransform\n                    } // 保存编辑前的状态，用于取消编辑\n                }\n            }));\n        setIsEditModalOpen(true); // 打开编辑弹窗\n    };\n    // 退出编辑模式\n    const handleEditComplete = function() {\n        let save = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n        if (!editMode || !editingLayer) return;\n        if (save) {\n            // 保存当前变换状态\n            const currentTransform = layerTransforms[editingLayer];\n            setLayerTransforms((prev)=>{\n                var _layerPositions_editingLayer, _layerPositions_editingLayer1;\n                return {\n                    ...prev,\n                    [editingLayer]: {\n                        rotation: currentTransform.rotation,\n                        scale: currentTransform.scale,\n                        translateX: ((_layerPositions_editingLayer = layerPositions[editingLayer]) === null || _layerPositions_editingLayer === void 0 ? void 0 : _layerPositions_editingLayer.x) || 0,\n                        translateY: ((_layerPositions_editingLayer1 = layerPositions[editingLayer]) === null || _layerPositions_editingLayer1 === void 0 ? void 0 : _layerPositions_editingLayer1.y) || 0\n                    }\n                };\n            });\n        } else {\n            var _layerTransforms_editingLayer;\n            // 取消编辑，恢复之前的状态\n            const previousState = (_layerTransforms_editingLayer = layerTransforms[editingLayer]) === null || _layerTransforms_editingLayer === void 0 ? void 0 : _layerTransforms_editingLayer.previousState;\n            if (previousState) {\n                setLayerTransforms((prev)=>({\n                        ...prev,\n                        [editingLayer]: {\n                            ...previousState\n                        }\n                    }));\n                setLayerPositions((prev)=>({\n                        ...prev,\n                        [editingLayer]: {\n                            x: previousState.translateX,\n                            y: previousState.translateY\n                        }\n                    }));\n            }\n        }\n        setEditMode(false);\n        setEditingLayer(null);\n        setIsEditModalOpen(false); // 关闭编辑弹窗\n        // 退出编辑模式后再显示图层面板\n        setShowLayers(true);\n    };\n    // 处理旋转变化\n    const handleRotationChange = (rotation)=>{\n        if (!editingLayer) return;\n        setLayerTransforms((prev)=>({\n                ...prev,\n                [editingLayer]: {\n                    ...prev[editingLayer],\n                    rotation\n                }\n            }));\n    };\n    // 处理缩放变化\n    const handleScaleChange = (scale)=>{\n        if (!editingLayer) return;\n        setLayerTransforms((prev)=>({\n                ...prev,\n                [editingLayer]: {\n                    ...prev[editingLayer],\n                    scale\n                }\n            }));\n    };\n    // 处理变换更新\n    const handleTransformChange = (param)=>{\n        let { type, value } = param;\n        if (!editingLayer) return;\n        if (type === \"erase\" || type === \"matting\") {\n            return; // 不再直接更新，等待确认\n        }\n        // 处理其他变换类型...\n        switch(type){\n            case \"rotate\":\n                setLayerTransforms((prev)=>({\n                        ...prev,\n                        [editingLayer]: {\n                            ...prev[editingLayer],\n                            rotation: value\n                        }\n                    }));\n                break;\n            case \"scale\":\n                setLayerTransforms((prev)=>({\n                        ...prev,\n                        [editingLayer]: {\n                            ...prev[editingLayer],\n                            scale: value\n                        }\n                    }));\n                break;\n            case \"translate\":\n                setLayerPositions((prev)=>({\n                        ...prev,\n                        [editingLayer]: {\n                            x: value.x,\n                            y: value.y\n                        }\n                    }));\n                break;\n            case \"reset\":\n                setLayerTransforms((prev)=>({\n                        ...prev,\n                        [editingLayer]: {\n                            rotation: 0,\n                            scale: 1\n                        }\n                    }));\n                setLayerPositions((prev)=>({\n                        ...prev,\n                        [editingLayer]: {\n                            x: 0,\n                            y: 0\n                        }\n                    }));\n                break;\n        }\n    };\n    // 确认编辑\n    const handleConfirmEdit = (transform)=>{\n        if (!editingLayer) return;\n        if ((transform === null || transform === void 0 ? void 0 : transform.type) === \"erase\" || (transform === null || transform === void 0 ? void 0 : transform.type) === \"matting\") {\n            // 更新图层的图像数据并立即重新渲染画布\n            setLayers((prevLayers)=>{\n                const newLayers = prevLayers.map((layer)=>layer.id === editingLayer ? {\n                        ...layer,\n                        src: transform.value\n                    } : layer);\n                // 在状态更新完成后立即重新渲染\n                requestAnimationFrame(()=>{\n                    updateCanvas();\n                });\n                return newLayers;\n            });\n            // 关闭弹窗\n            setIsEditModalOpen(false);\n            return;\n        }\n        // 更新其他变换\n        if ((transform === null || transform === void 0 ? void 0 : transform.rotate) !== undefined) {\n            setLayerTransforms((prev)=>({\n                    ...prev,\n                    [editingLayer]: {\n                        ...prev[editingLayer],\n                        rotation: transform.rotate,\n                        scale: transform.scale || 1\n                    }\n                }));\n        }\n        if ((transform === null || transform === void 0 ? void 0 : transform.translateX) !== undefined && (transform === null || transform === void 0 ? void 0 : transform.translateY) !== undefined) {\n            setLayerPositions((prev)=>({\n                    ...prev,\n                    [editingLayer]: {\n                        x: transform.translateX,\n                        y: transform.translateY\n                    }\n                }));\n        }\n        // 关闭弹窗\n        setIsEditModalOpen(false);\n    };\n    // 取消编辑\n    const handleCancelEdit = ()=>{\n        // 恢复原始变换值\n        if (editingLayer) {\n            const originalTransform = layerTransforms[editingLayer] || {\n                rotation: 0,\n                scale: 1\n            };\n            const originalPosition = layerPositions[editingLayer] || {\n                x: 0,\n                y: 0\n            };\n            setLayerTransforms((prev)=>({\n                    ...prev,\n                    [editingLayer]: originalTransform\n                }));\n            setLayerPositions((prev)=>({\n                    ...prev,\n                    [editingLayer]: originalPosition\n                }));\n        }\n        // 退出编辑模式\n        setEditMode(false);\n        setEditingLayer(null);\n        setIsEditModalOpen(false); // 关闭编辑弹窗\n        // 模拟点击图层按钮\n        setShowLayers(true);\n        // 重新渲染画布\n        requestAnimationFrame(()=>{\n            updateCanvas();\n        });\n    };\n    // 更新画布\n    const updateCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        const dpr = window.devicePixelRatio || 1;\n        // 清空画布\n        ctx.fillStyle = \"#ffffff\";\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        // 按order属性排序图层，order小的在上面（后绘制）\n        const sortedLayers = [\n            ...layers\n        ].sort((a, b)=>b.order - a.order);\n        // 按顺序绘制所有可见图层\n        sortedLayers.forEach((layer)=>{\n            if (!layer.visible) return;\n            const img = new Image();\n            img.src = layer.src;\n            const transform = layerTransforms[layer.id] || {\n                rotation: 0,\n                scale: 1\n            };\n            const position = layerPositions[layer.id] || {\n                x: 0,\n                y: 0\n            };\n            // 保存当前状态\n            ctx.save();\n            // 应用变换\n            ctx.translate(position.x * dpr, position.y * dpr);\n            ctx.translate(canvas.width / 2, canvas.height / 2);\n            ctx.rotate(transform.rotation * Math.PI / 180);\n            ctx.scale(transform.scale, transform.scale);\n            ctx.translate(-canvas.width / 2, -canvas.height / 2);\n            // 绘制图像\n            const imageRatio = layer.width / layer.height;\n            let targetWidth, targetHeight, x, y;\n            if (imageRatio === 1) {\n                const size = Math.min(canvas.width, canvas.height);\n                targetWidth = size;\n                targetHeight = size;\n                x = (canvas.width - size) / 2;\n                y = (canvas.height - size) / 2;\n            } else if (imageRatio > 1) {\n                targetWidth = canvas.width;\n                targetHeight = canvas.width / imageRatio;\n                x = 0;\n                y = (canvas.height - targetHeight) / 2;\n            } else {\n                targetHeight = canvas.height;\n                targetWidth = canvas.height * imageRatio;\n                x = (canvas.width - targetWidth) / 2;\n                y = 0;\n            }\n            ctx.drawImage(img, x, y, targetWidth, targetHeight);\n            // 恢复状态\n            ctx.restore();\n        });\n    }, [\n        layers,\n        layerTransforms,\n        layerPositions\n    ]);\n    // 当图层状态改变时更新画布\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        updateCanvas();\n    }, [\n        layers,\n        layerTransforms,\n        layerPositions,\n        updateCanvas\n    ]);\n    // 处理画布鼠标按下\n    const [moveDistance, setMoveDistance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [initialPosition, setInitialPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const moveThreshold = 5; // 移动阈值，超过这个距离视为拖动\n    const handleCanvasMouseDown = (e)=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const rect = canvas.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        // 获取点击的图层\n        const clickedLayerId = getClickedLayer(x, y);\n        // 如果图层面板打开，只允许拖动，不进入编辑模式\n        if (clickedLayerId) {\n            setSelectedLayer(clickedLayerId);\n            // 只有在图层面板关闭时才设置拖动状态\n            if (!showLayers) {\n                setIsDraggingImage(true);\n                setDragStart({\n                    x,\n                    y\n                });\n                setInitialPosition({\n                    x,\n                    y\n                });\n                setMoveDistance(0);\n            }\n        } else {\n            setSelectedLayer(null);\n            if (editMode) {\n                handleCancelEdit();\n            }\n        }\n    };\n    // 处理画布鼠标移动\n    const handleCanvasMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        if (!isDraggingImage || editMode) return;\n        const canvas = canvasRef.current;\n        const rect = canvas.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        // 计算移动距离\n        const dx = x - initialPosition.x;\n        const dy = y - initialPosition.y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        setMoveDistance(distance);\n        if (selectedLayer !== null) {\n            const deltaX = x - dragStart.x;\n            const deltaY = y - dragStart.y;\n            setLayerPositions((prev)=>{\n                var _prev_selectedLayer, _prev_selectedLayer1;\n                return {\n                    ...prev,\n                    [selectedLayer]: {\n                        x: (((_prev_selectedLayer = prev[selectedLayer]) === null || _prev_selectedLayer === void 0 ? void 0 : _prev_selectedLayer.x) || 0) + deltaX,\n                        y: (((_prev_selectedLayer1 = prev[selectedLayer]) === null || _prev_selectedLayer1 === void 0 ? void 0 : _prev_selectedLayer1.y) || 0) + deltaY\n                    }\n                };\n            });\n            setDragStart({\n                x,\n                y\n            });\n        }\n    }, [\n        isDraggingImage,\n        selectedLayer,\n        dragStart,\n        initialPosition,\n        editMode\n    ]);\n    // 处理画布鼠标松开\n    const handleCanvasMouseUp = ()=>{\n        if (isDraggingImage && selectedLayer && moveDistance < moveThreshold) {\n            // 如果图层面板打开，不触发编辑模式\n            if (!showLayers) {\n                // 如果移动距离小于阈值，视为点击，进入编辑模式\n                handleEditLayer(selectedLayer);\n            }\n        }\n        setIsDraggingImage(false);\n        setMoveDistance(0);\n    };\n    // 处理画布触摸开始\n    const handleCanvasTouchStart = (e)=>{\n        if (!hasImage) return;\n        const canvas = canvasRef.current;\n        const rect = canvas.getBoundingClientRect();\n        const touch = e.touches[0];\n        const x = touch.clientX - rect.left;\n        const y = touch.clientY - rect.top;\n        // 获取触摸的图层\n        const clickedLayerId = getClickedLayer(x, y);\n        if (clickedLayerId) {\n            // 如果当前正在编辑，不进行新的选择\n            if (editMode) return;\n            setSelectedLayer(clickedLayerId);\n            setIsDraggingImage(true);\n            setDragStart({\n                x,\n                y\n            });\n            setInitialPosition({\n                x,\n                y\n            });\n            setMoveDistance(0);\n            // 防止触发其他点击事件\n            e.preventDefault();\n            e.stopPropagation();\n        } else {\n            setSelectedLayer(null);\n            if (editMode) {\n                handleCancelEdit();\n            }\n        }\n    };\n    // 处理画布触摸移动\n    const handleCanvasTouchMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        if (!isDraggingImage || editMode) return;\n        // 防止页面滚动\n        e.preventDefault();\n        const canvas = canvasRef.current;\n        const rect = canvas.getBoundingClientRect();\n        const touch = e.touches[0];\n        const x = touch.clientX - rect.left;\n        const y = touch.clientY - rect.top;\n        // 计算移动距离\n        const dx = x - initialPosition.x;\n        const dy = y - initialPosition.y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        setMoveDistance(distance);\n        if (selectedLayer !== null) {\n            const deltaX = x - dragStart.x;\n            const deltaY = y - dragStart.y;\n            setLayerPositions((prev)=>{\n                var _prev_selectedLayer, _prev_selectedLayer1;\n                return {\n                    ...prev,\n                    [selectedLayer]: {\n                        x: (((_prev_selectedLayer = prev[selectedLayer]) === null || _prev_selectedLayer === void 0 ? void 0 : _prev_selectedLayer.x) || 0) + deltaX,\n                        y: (((_prev_selectedLayer1 = prev[selectedLayer]) === null || _prev_selectedLayer1 === void 0 ? void 0 : _prev_selectedLayer1.y) || 0) + deltaY\n                    }\n                };\n            });\n            setDragStart({\n                x,\n                y\n            });\n        }\n    }, [\n        isDraggingImage,\n        selectedLayer,\n        dragStart,\n        initialPosition,\n        editMode\n    ]);\n    // 处理画布触摸结束\n    const handleCanvasTouchEnd = (e)=>{\n        if (isDraggingImage && selectedLayer && moveDistance < moveThreshold) {\n            // 如果图层面板打开或正在编辑中，不触发编辑模式\n            if (!showLayers && !editMode) {\n                // 如果移动距离小于阈值，视为点击，进入编辑模式\n                handleEditLayer(selectedLayer);\n                // 防止触发其他点击事件\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }\n        setIsDraggingImage(false);\n        setMoveDistance(0);\n    };\n    // 移除旧的重复函数\n    const moveLayer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltaX, deltaY)=>{\n        if (selectedLayer !== null) {\n            setLayerPositions((prev)=>{\n                var _prev_selectedLayer, _prev_selectedLayer1;\n                return {\n                    ...prev,\n                    [selectedLayer]: {\n                        x: (((_prev_selectedLayer = prev[selectedLayer]) === null || _prev_selectedLayer === void 0 ? void 0 : _prev_selectedLayer.x) || 0) + deltaX,\n                        y: (((_prev_selectedLayer1 = prev[selectedLayer]) === null || _prev_selectedLayer1 === void 0 ? void 0 : _prev_selectedLayer1.y) || 0) + deltaY\n                    }\n                };\n            });\n        }\n    }, [\n        selectedLayer\n    ]);\n    // 缓存图片\n    const cacheImage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((layer)=>{\n        return new Promise((resolve)=>{\n            if (imageCache[layer.id]) {\n                resolve(imageCache[layer.id]);\n                return;\n            }\n            const img = new Image();\n            img.onload = ()=>{\n                setImageCache((prev)=>({\n                        ...prev,\n                        [layer.id]: img\n                    }));\n                resolve(img);\n            };\n            img.src = layer.src;\n        });\n    }, [\n        imageCache\n    ]);\n    // 创建离屏画布\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (dimensions.width && dimensions.height) {\n            const offscreen = document.createElement(\"canvas\");\n            const dpr = window.devicePixelRatio || 1;\n            offscreen.width = dimensions.width * dpr;\n            offscreen.height = dimensions.height * dpr;\n            offscreenCanvasRef.current = offscreen;\n        }\n    }, [\n        dimensions\n    ]);\n    // 判断点击位置是否在图片内\n    const isPointInImage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((x, y, imageInfo)=>{\n        const { left, top, width, height } = imageInfo;\n        return x >= left && x <= left + width && y >= top && y <= top + height;\n    }, []);\n    // 获取点击位置的图层\n    const getClickedLayer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((x, y)=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return null;\n        const dpr = window.devicePixelRatio || 1;\n        // 按order属性排序图层，从上到下遍历（order小的在上面）\n        const sortedLayers = [\n            ...layers\n        ].sort((a, b)=>a.order - b.order);\n        for (const layer of sortedLayers){\n            if (!layer.visible) continue;\n            // 使用图层自身的宽高比\n            const imageRatio = layer.width / layer.height;\n            let targetWidth, targetHeight, imgX, imgY;\n            // 计算图片实际显示尺寸和位置\n            if (imageRatio === 1) {\n                const size = Math.min(canvas.width, canvas.height) / dpr;\n                targetWidth = size;\n                targetHeight = size;\n                imgX = (canvas.width / dpr - size) / 2;\n                imgY = (canvas.height / dpr - size) / 2;\n            } else if (imageRatio > 1) {\n                targetWidth = canvas.width / dpr;\n                targetHeight = canvas.width / dpr / imageRatio;\n                imgX = 0;\n                imgY = (canvas.height / dpr - targetHeight) / 2;\n            } else {\n                targetHeight = canvas.height / dpr;\n                targetWidth = canvas.height / dpr * imageRatio;\n                imgX = (canvas.width / dpr - targetWidth) / 2;\n                imgY = 0;\n            }\n            // 应用图层变换\n            const transform = layerTransforms[layer.id] || {\n                rotation: 0,\n                scale: 1\n            };\n            const position = layerPositions[layer.id] || {\n                x: 0,\n                y: 0\n            };\n            // 计算变换后的中心点\n            const centerX = imgX + targetWidth / 2 + position.x;\n            const centerY = imgY + targetHeight / 2 + position.y;\n            // 将点击坐标转换到图层坐标系\n            const dx = x - centerX;\n            const dy = y - centerY;\n            // 应用旋转变换的逆变换\n            const angle = -transform.rotation * Math.PI / 180;\n            const rotatedX = dx * Math.cos(angle) - dy * Math.sin(angle);\n            const rotatedY = dx * Math.sin(angle) + dy * Math.cos(angle);\n            // 应用缩放变换的逆变换\n            const scaledX = rotatedX / transform.scale;\n            const scaledY = rotatedY / transform.scale;\n            // 检查点是否在图层范围内\n            const halfWidth = targetWidth / 2;\n            const halfHeight = targetHeight / 2;\n            if (scaledX >= -halfWidth && scaledX <= halfWidth && scaledY >= -halfHeight && scaledY <= halfHeight) {\n                return layer.id;\n            }\n        }\n        return null;\n    }, [\n        layers,\n        layerPositions,\n        layerTransforms\n    ]);\n    // 处理画布鼠标离开\n    const handleCanvasMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setIsDraggingImage(false);\n    }, []);\n    // 处理画布鼠标进入\n    const handleCanvasMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n    // 如果需要在鼠标进入时执行任何操作，可以在这里添加\n    }, []);\n    // 创建图层预览图\n    const createLayerThumbnail = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((layer)=>{\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.width = 40;\n        canvas.height = 40;\n        const img = new Image();\n        img.onload = ()=>{\n            const imageRatio = img.width / img.height;\n            let targetWidth, targetHeight, x, y;\n            if (imageRatio === 1) {\n                targetWidth = targetHeight = 40;\n                x = y = 0;\n            } else if (imageRatio > 1) {\n                targetWidth = 40;\n                targetHeight = 40 / imageRatio;\n                x = 0;\n                y = (40 - targetHeight) / 2;\n            } else {\n                targetHeight = 40;\n                targetWidth = 40 * imageRatio;\n                x = (40 - targetWidth) / 2;\n                y = 0;\n            }\n            ctx.drawImage(img, x, y, targetWidth, targetHeight);\n        };\n        img.src = layer.src;\n        return canvas;\n    }, []);\n    // 添加点击外部关闭图层面板的处理函数\n    const handleClickOutside = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        if (showLayers && !e.target.closest(\".layers-panel\") && !e.target.closest(\".canvas-layers\")) {\n            setShowLayers(false);\n        }\n    }, [\n        showLayers\n    ]);\n    // 添加点击外部关闭的事件监听\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        handleClickOutside\n    ]);\n    // 处理图层删除\n    const handleDeleteLayer = (layerId)=>{\n        setLayers((prevLayers)=>prevLayers.filter((layer)=>layer.id !== layerId));\n        if (selectedLayer === layerId) {\n            setSelectedLayer(null);\n        }\n    };\n    // 处理画布区域外点击\n    const handleOutsideClick = (e)=>{\n        // 如果点击的是画布或者图层面板内的元素,不处理\n        if (e.target.closest(\".draw-canvas\") || e.target.closest(\".layers-panel\") || e.target.closest(\".layers-mini\")) {\n            return;\n        }\n        // 取消选中状态\n        setSelectedLayer(null);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // 添加点击事件监听\n        document.addEventListener(\"click\", handleOutsideClick);\n        return ()=>{\n            document.removeEventListener(\"click\", handleOutsideClick);\n        };\n    }, []);\n    // 处理返回按钮点击\n    const handleBackEdit = ()=>{\n    // 移除编辑模式相关状态\n    };\n    // 处理关闭弹窗\n    const handleCloseEditModal = ()=>{\n        setIsEditModalOpen(false); // 关闭编辑弹窗\n    };\n    // 处理编辑后的图片更新\n    const handleImageUpdate = (editedImageData)=>{\n    // 移除编辑模式相关状态\n    };\n    // 处理点击和触摸事件以打开AI肖像模态框\n    const handleAIPortraitClick = ()=>{\n        setShowAIPortraitModal(true);\n    };\n    // 处理移动端触摸事件\n    const handleAIPortraitTouch = (e)=>{\n        e.preventDefault();\n        handleAIPortraitClick();\n    };\n    // 获取画布图片数据\n    const getCanvasImage = ()=>{\n        return new Promise((resolve, reject)=>{\n            try {\n                console.log(\"开始获取画布数据...\");\n                const canvas = canvasRef.current;\n                canvas.toBlob((blob)=>{\n                    if (blob) {\n                        console.log(\"成功获取画布数据，大小：\", blob.size);\n                        resolve(blob);\n                    } else {\n                        reject(new Error(\"无法获取画布图片数据\"));\n                    }\n                }, \"image/png\");\n            } catch (error) {\n                console.error(\"获取画布数据失败:\", error);\n                reject(error);\n            }\n        });\n    };\n    // 上传图片到服务端 API\n    const uploadToCOS = async (imageBlob, styleId)=>{\n        try {\n            console.log(\"开始上传图片到服务器...\");\n            // 获取当前日期和时间\n            const now = new Date();\n            const year = now.getFullYear();\n            const month = String(now.getMonth() + 1).padStart(2, \"0\");\n            const day = String(now.getDate()).padStart(2, \"0\");\n            const hours = String(now.getHours()).padStart(2, \"0\");\n            const minutes = String(now.getMinutes()).padStart(2, \"0\");\n            const seconds = String(now.getSeconds() + 2).padStart(2, \"0\");\n            // 构建日期目录和文件名\n            const dateDir = \"\".concat(year).concat(month).concat(day);\n            const timestamp = \"\".concat(year).concat(month).concat(day).concat(hours).concat(minutes).concat(seconds);\n            // 创建 FormData\n            const formData = new FormData();\n            formData.append(\"file\", imageBlob, \"image.png\");\n            formData.append(\"dateDir\", dateDir);\n            formData.append(\"timestamp\", timestamp);\n            formData.append(\"styleId\", styleId);\n            // 发送到服务端 API\n            console.log(\"发送上传请求...\");\n            const response = await fetch(\"/api/upload\", {\n                method: \"POST\",\n                body: formData\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                console.error(\"服务器返回错误:\", errorData);\n                throw new Error(errorData.details || \"上传失败\");\n            }\n            const data = await response.json();\n            console.log(\"上传成功，文件URL:\", data.url);\n            return {\n                url: data.url,\n                fileName: data.fileName\n            };\n        } catch (error) {\n            console.error(\"上传过程出错:\", error);\n            throw error;\n        }\n    };\n    // 处理编辑按钮点击\n    const handleEditClick = (mode)=>{\n    // 移除编辑模式相关状态\n    };\n    // 新增功能按钮处理函数\n    const handleAIPortrait = ()=>{\n        setShowAIPortraitModal(true);\n    };\n    const handleStyleOverlay = ()=>{\n        console.log(\"风格叠加\");\n    };\n    const handleProductSelect = ()=>{\n        console.log(\"商品选择\");\n    };\n    const handleOrder = ()=>{\n        console.log(\"订单发货\");\n    };\n    // 新增编辑工具处理函数\n    const handleMatting = ()=>{\n    // 移除编辑模式相关状态\n    };\n    const handleEnhance = ()=>{\n    // 移除编辑模式相关状态\n    };\n    const handleZoom = ()=>{\n    // 移除编辑模式相关状态\n    };\n    const handleRotate = ()=>{\n    // 移除编辑模式相关状态\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (hasImage) {\n            setTimeout(()=>setShowButtons(true), 300);\n        } else {\n            setShowButtons(false);\n        }\n    }, [\n        hasImage\n    ]);\n    // 下载画布内容\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    const handleDownloadCanvas = ()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        // 获取当前时间并格式化\n        const now = new Date();\n        const year = now.getFullYear();\n        const month = String(now.getMonth() + 1).padStart(2, \"0\");\n        const day = String(now.getDate()).padStart(2, \"0\");\n        const hours = String(now.getHours()).padStart(2, \"0\");\n        const minutes = String(now.getMinutes()).padStart(2, \"0\");\n        const seconds = String(now.getSeconds()).padStart(2, \"0\");\n        const timestamp = \"\".concat(year, \"-\").concat(month, \"-\").concat(day, \" \").concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n        // 创建下载链接\n        const link = document.createElement(\"a\");\n        link.download = \"YnnAI-\".concat(timestamp, \".png\");\n        link.href = canvas.toDataURL(\"image/png\");\n        link.click();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout_Layout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"canvas-container\",\n            style: {\n                width: \"100%\",\n                height: \"100vh\",\n                position: \"relative\",\n                overflow: \"hidden\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"canvas-wrapper\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                            ref: canvasRef,\n                            className: \"draw-canvas \".concat(isDragging ? \"dragging\" : \"\"),\n                            width: dimensions.width,\n                            height: dimensions.height,\n                            onMouseDown: handleCanvasMouseDown,\n                            onMouseMove: handleCanvasMouseMove,\n                            onMouseUp: handleCanvasMouseUp,\n                            onMouseLeave: handleCanvasMouseLeave,\n                            onMouseEnter: handleCanvasMouseEnter,\n                            onTouchStart: handleCanvasTouchStart,\n                            onTouchMove: handleCanvasTouchMove,\n                            onTouchEnd: handleCanvasTouchEnd,\n                            onTouchCancel: handleCanvasTouchEnd,\n                            style: {\n                                cursor: hasImage ? \"move\" : \"default\",\n                                position: \"relative\"\n                            },\n                            children: layers.map((layer, index)=>{\n                                var _layerPositions_layer_id, _layerPositions_layer_id1;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"canvas-layer \".concat(selectedLayer === layer.id ? \"selected\" : \"\"),\n                                    style: {\n                                        position: \"absolute\",\n                                        left: ((_layerPositions_layer_id = layerPositions[layer.id]) === null || _layerPositions_layer_id === void 0 ? void 0 : _layerPositions_layer_id.x) || 0,\n                                        top: ((_layerPositions_layer_id1 = layerPositions[layer.id]) === null || _layerPositions_layer_id1 === void 0 ? void 0 : _layerPositions_layer_id1.y) || 0,\n                                        display: layer.visible ? \"block\" : \"none\",\n                                        zIndex: layers.length - index,\n                                        pointerEvents: \"none\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: layer.src,\n                                        alt: \"图层 \".concat(index + 1),\n                                        className: \"layer-preview\",\n                                        draggable: false\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1362,\n                                        columnNumber: 17\n                                    }, this)\n                                }, layer.id, false, {\n                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                    lineNumber: 1350,\n                                    columnNumber: 15\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                            lineNumber: 1330,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"file\",\n                            ref: layerInputRef,\n                            onChange: handleLayerFileSelect,\n                            accept: \"image/*\",\n                            style: {\n                                display: \"none\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                            lineNumber: 1371,\n                            columnNumber: 11\n                        }, this),\n                        hasImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                            className: \"tool-button\",\n                            onClick: ()=>setShowLayers(!showLayers),\n                            whileHover: {\n                                scale: 1.02\n                            },\n                            whileTap: {\n                                scale: 0.98\n                            },\n                            title: \"图层管理\",\n                            style: {\n                                position: \"absolute\",\n                                top: \"1.2rem\",\n                                left: \"1.2rem\",\n                                zIndex: 50,\n                                padding: \"0.5rem\",\n                                background: \"rgba(255, 255, 255, 0.9)\",\n                                borderRadius: \"6px\",\n                                boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.1)\",\n                                border: \"1px solid rgba(0, 0, 0, 0.08)\",\n                                backdropFilter: \"blur(8px)\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                color: \"#1a1a1a\",\n                                transition: \"all 0.2s ease\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                className: \"button-icon\",\n                                width: \"18\",\n                                height: \"18\",\n                                viewBox: \"0 0 24 24\",\n                                fill: \"none\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M4 6h16M4 12h16M4 18h16\",\n                                        strokeLinecap: \"round\"\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1406,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                        cx: \"2\",\n                                        cy: \"6\",\n                                        r: \"1\",\n                                        fill: \"currentColor\"\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1407,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                        cx: \"2\",\n                                        cy: \"12\",\n                                        r: \"1\",\n                                        fill: \"currentColor\"\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1408,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                        cx: \"2\",\n                                        cy: \"18\",\n                                        r: \"1\",\n                                        fill: \"currentColor\"\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1409,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                lineNumber: 1405,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                            lineNumber: 1381,\n                            columnNumber: 13\n                        }, this),\n                        showEditHint && hasImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_EditHint__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            onHintClick: ()=>{\n                                setShowEditHint(false);\n                                if (selectedLayer) {\n                                    setEditMode(true);\n                                    setEditingLayer(selectedLayer);\n                                    setIsEditModalOpen(true);\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                            lineNumber: 1414,\n                            columnNumber: 13\n                        }, this),\n                        hasImage && showLayers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                            className: \"layers-panel\",\n                            initial: {\n                                opacity: 0,\n                                scale: 0.95,\n                                x: -20\n                            },\n                            animate: {\n                                opacity: 1,\n                                scale: 1,\n                                x: 0\n                            },\n                            transition: {\n                                duration: 0.3\n                            },\n                            style: {\n                                position: \"absolute\",\n                                top: \"3.5rem\",\n                                left: \"1.2rem\",\n                                zIndex: 49\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"layers-list\",\n                                    children: layers.map((layer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                            className: \"layer-item \".concat(layer.visible ? \"visible\" : \"\", \" \").concat(selectedLayer === layer.id ? \"selected\" : \"\"),\n                                            initial: {\n                                                opacity: 0,\n                                                x: -10\n                                            },\n                                            animate: {\n                                                opacity: 1,\n                                                x: 0\n                                            },\n                                            transition: {\n                                                duration: 0.2,\n                                                delay: index * 0.05\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"layer-preview-container \".concat(selectedLayer === layer.id ? \"selected\" : \"\"),\n                                                    onClick: (e)=>handleLayerSelect(layer.id, e),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: layer.src,\n                                                            alt: \"图层 \".concat(index + 1),\n                                                            className: \"layer-preview\",\n                                                            draggable: false\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1452,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"layer-index\",\n                                                            children: index + 1\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1458,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1448,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"layer-controls\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"layer-visibility \".concat(layer.visible ? \"visible\" : \"\"),\n                                                            onClick: (e)=>{\n                                                                e.stopPropagation();\n                                                                handleLayerVisibility(layer.id);\n                                                            },\n                                                            title: layer.visible ? \"隐藏图层\" : \"显示图层\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                className: \"button-icon\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                fill: \"none\",\n                                                                stroke: \"currentColor\",\n                                                                strokeWidth: \"2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        d: \"M2 12s4-5 10-5 10 5 10 5-4 5-10 5-10-5-10-5z\",\n                                                                        strokeLinecap: \"round\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                        lineNumber: 1471,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                                        cx: \"12\",\n                                                                        cy: \"12\",\n                                                                        r: \"3\",\n                                                                        strokeLinecap: \"round\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                        lineNumber: 1472,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                lineNumber: 1470,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1462,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"layer-move-btn\",\n                                                            onClick: (e)=>{\n                                                                e.stopPropagation();\n                                                                handleMoveUp(index);\n                                                            },\n                                                            disabled: index === 0,\n                                                            title: \"上移图层\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                className: \"button-icon\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                fill: \"none\",\n                                                                stroke: \"currentColor\",\n                                                                strokeWidth: \"2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        d: \"M17 8l-5-5-5 5\",\n                                                                        strokeLinecap: \"round\",\n                                                                        strokeLinejoin: \"round\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                        lineNumber: 1485,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        d: \"M12 16V4\",\n                                                                        strokeLinecap: \"round\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                        lineNumber: 1486,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                lineNumber: 1484,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1475,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"layer-move-btn\",\n                                                            onClick: (e)=>{\n                                                                e.stopPropagation();\n                                                                handleMoveDown(index);\n                                                            },\n                                                            disabled: index === layers.length - 1,\n                                                            title: \"下移图层\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                className: \"button-icon\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                fill: \"none\",\n                                                                stroke: \"currentColor\",\n                                                                strokeWidth: \"2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        d: \"M17 16l-5 5-5-5\",\n                                                                        strokeLinecap: \"round\",\n                                                                        strokeLinejoin: \"round\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                        lineNumber: 1499,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        d: \"M12 8v12\",\n                                                                        strokeLinecap: \"round\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                        lineNumber: 1500,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                lineNumber: 1498,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1489,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"layer-delete-btn\",\n                                                            onClick: (e)=>{\n                                                                e.stopPropagation();\n                                                                handleDeleteLayer(layer.id);\n                                                            },\n                                                            title: \"删除图层\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                className: \"button-icon\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                fill: \"none\",\n                                                                stroke: \"currentColor\",\n                                                                strokeWidth: \"2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        d: \"M18 6L6 18\",\n                                                                        strokeLinecap: \"round\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                        lineNumber: 1512,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        d: \"M6 6l12 12\",\n                                                                        strokeLinecap: \"round\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                        lineNumber: 1513,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                                lineNumber: 1511,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1503,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1461,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, layer.id, true, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1441,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                    lineNumber: 1439,\n                                    columnNumber: 15\n                                }, this),\n                                layers.length < 5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"layers-footer\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                        className: \"layer-add-btn\",\n                                        onClick: handleLayerUpload,\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        title: \"添加图层\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            className: \"button-icon\",\n                                            viewBox: \"0 0 24 24\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    cx: \"12\",\n                                                    cy: \"12\",\n                                                    r: \"10\",\n                                                    strokeLinecap: \"round\"\n                                                }, void 0, false, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1531,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M12 8v8\",\n                                                    strokeLinecap: \"round\"\n                                                }, void 0, false, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1532,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M8 12h8\",\n                                                    strokeLinecap: \"round\"\n                                                }, void 0, false, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1533,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1530,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1523,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                    lineNumber: 1522,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                            lineNumber: 1427,\n                            columnNumber: 13\n                        }, this),\n                        isClient && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                            onClick: handleDownloadCanvas,\n                            className: \"tool-button\",\n                            whileHover: {\n                                scale: 1.02\n                            },\n                            whileTap: {\n                                scale: 0.98\n                            },\n                            title: \"下载画布\",\n                            style: {\n                                position: \"absolute\",\n                                top: \"1.2rem\",\n                                right: \"1.2rem\",\n                                zIndex: 50,\n                                padding: \"0.5rem\",\n                                background: \"rgba(255, 255, 255, 0.9)\",\n                                borderRadius: \"6px\",\n                                boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.1)\",\n                                border: \"1px solid rgba(0, 0, 0, 0.08)\",\n                                backdropFilter: \"blur(8px)\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                color: \"#1a1a1a\",\n                                transition: \"all 0.2s ease\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                className: \"button-icon\",\n                                width: \"18\",\n                                height: \"18\",\n                                viewBox: \"0 0 24 24\",\n                                fill: \"none\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1566,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polyline\", {\n                                        points: \"7 10 12 15 17 10\"\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1567,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                        x1: \"12\",\n                                        y1: \"15\",\n                                        x2: \"12\",\n                                        y2: \"3\"\n                                    }, void 0, false, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1568,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                lineNumber: 1565,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                            lineNumber: 1541,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                            className: \"canvas-buttons \".concat(showButtons ? \"visible\" : \"\"),\n                            initial: {\n                                opacity: 0,\n                                y: 20\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            transition: {\n                                duration: 0.5,\n                                delay: 0.2\n                            },\n                            children: [\n                                hasImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                    className: \"archive-button\",\n                                    onClick: handleArchive,\n                                    whileHover: {\n                                        scale: 1.05\n                                    },\n                                    whileTap: {\n                                        scale: 0.95\n                                    },\n                                    title: \"存档仓库\",\n                                    initial: {\n                                        opacity: 0,\n                                        x: -20\n                                    },\n                                    animate: {\n                                        opacity: 1,\n                                        x: 0\n                                    },\n                                    transition: {\n                                        duration: 0.3\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"button-icon\",\n                                        viewBox: \"0 0 24 24\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                d: \"M21 8v13H3L3 8\"\n                                            }, void 0, false, {\n                                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                lineNumber: 1591,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                d: \"M1 3h22v5H1z\"\n                                            }, void 0, false, {\n                                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                lineNumber: 1592,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                d: \"M10 12h4\"\n                                            }, void 0, false, {\n                                                fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                lineNumber: 1593,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                        lineNumber: 1590,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                    lineNumber: 1580,\n                                    columnNumber: 15\n                                }, this),\n                                !hasImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"initial-buttons\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"file\",\n                                            ref: fileInputRef,\n                                            onChange: handleFileSelect,\n                                            accept: \"image/*\",\n                                            style: {\n                                                display: \"none\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1600,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                            className: \"canvas-button upload\",\n                                            onClick: handleUpload,\n                                            whileHover: {\n                                                scale: 1.05\n                                            },\n                                            whileTap: {\n                                                scale: 0.95\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    className: \"button-icon\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1614,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polyline\", {\n                                                            points: \"17 8 12 3 7 8\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1615,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                                            x1: \"12\",\n                                                            y1: \"3\",\n                                                            x2: \"12\",\n                                                            y2: \"15\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1616,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1613,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"上传图片\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1607,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                            className: \"canvas-button archive\",\n                                            onClick: handleArchive,\n                                            whileHover: {\n                                                scale: 1.05\n                                            },\n                                            whileTap: {\n                                                scale: 0.95\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    className: \"button-icon\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M21 8v13H3L3 8\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1627,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M1 3h22v5H1z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1628,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M10 12h4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1629,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1626,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"存档仓库\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1620,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                    lineNumber: 1599,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"function-buttons\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                            className: \"canvas-button smart-portrait\",\n                                            onClick: handleAIPortraitClick,\n                                            onTouchStart: handleAIPortraitTouch,\n                                            whileHover: {\n                                                scale: 1.05\n                                            },\n                                            whileTap: {\n                                                scale: 0.95\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    className: \"button-icon\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1644,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M12 6v12\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1645,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M6 12h12\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1646,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1643,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"智能画像\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1636,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                            className: \"canvas-button style\",\n                                            onClick: handleStyleOverlay,\n                                            whileHover: {\n                                                scale: 1.05\n                                            },\n                                            whileTap: {\n                                                scale: 0.95\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    className: \"button-icon\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M2 2h20v20H2z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1658,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M7 7h10v10H7z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1659,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1657,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"风格叠加\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1651,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                            className: \"canvas-button product\",\n                                            onClick: handleProductSelect,\n                                            whileHover: {\n                                                scale: 1.05\n                                            },\n                                            whileTap: {\n                                                scale: 0.95\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    className: \"button-icon\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M21 8l-3-6H6L3 8v12h18V8z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1671,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M3 8h18\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1672,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M15 8a3 3 0 0 0-6 0\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1673,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1670,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"商品选择\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1664,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                            className: \"canvas-button order\",\n                                            onClick: handleOrder,\n                                            whileHover: {\n                                                scale: 1.05\n                                            },\n                                            whileTap: {\n                                                scale: 0.95\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    className: \"button-icon\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M5 12h14\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1685,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M12 5l7 7-7 7\"\n                                                        }, void 0, false, {\n                                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                            lineNumber: 1686,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                                    lineNumber: 1684,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"订单发货\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                            lineNumber: 1678,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                                    lineNumber: 1635,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                            lineNumber: 1573,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                    lineNumber: 1329,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AIPortraitModal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                    isOpen: showAIPortraitModal,\n                    onClose: ()=>setShowAIPortraitModal(false),\n                    onSelect: handlePortraitStyleSelect\n                }, void 0, false, {\n                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                    lineNumber: 1695,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ArchiveModal__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    isOpen: showArchiveModal,\n                    onClose: ()=>setShowArchiveModal(false)\n                }, void 0, false, {\n                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                    lineNumber: 1701,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.AnimatePresence, {\n                    children: editMode && editingLayer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                        initial: {\n                            opacity: 0,\n                            y: 50\n                        },\n                        animate: {\n                            opacity: 1,\n                            y: 0\n                        },\n                        exit: {\n                            opacity: 0,\n                            y: 50\n                        },\n                        transition: {\n                            duration: 0.3\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ImageEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            layer: layers.find((l)=>l.id === editingLayer),\n                            onTransformChange: handleTransformChange,\n                            onConfirm: handleConfirmEdit,\n                            onCancel: handleCancelEdit,\n                            onRotationChange: handleRotationChange,\n                            onScaleChange: handleScaleChange,\n                            initialTransform: {\n                                rotate: ((_layerTransforms_editingLayer = layerTransforms[editingLayer]) === null || _layerTransforms_editingLayer === void 0 ? void 0 : _layerTransforms_editingLayer.rotation) || 0,\n                                scale: ((_layerTransforms_editingLayer1 = layerTransforms[editingLayer]) === null || _layerTransforms_editingLayer1 === void 0 ? void 0 : _layerTransforms_editingLayer1.scale) || 1,\n                                translateX: ((_layerPositions_editingLayer = layerPositions[editingLayer]) === null || _layerPositions_editingLayer === void 0 ? void 0 : _layerPositions_editingLayer.x) || 0,\n                                translateY: ((_layerPositions_editingLayer1 = layerPositions[editingLayer]) === null || _layerPositions_editingLayer1 === void 0 ? void 0 : _layerPositions_editingLayer1.y) || 0\n                            }\n                        }, void 0, false, {\n                            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                            lineNumber: 1714,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                        lineNumber: 1708,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                    lineNumber: 1706,\n                    columnNumber: 9\n                }, this),\n                isEditModalOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                    className: \"edit-modal-overlay\",\n                    initial: {\n                        opacity: 0\n                    },\n                    animate: {\n                        opacity: 1\n                    },\n                    exit: {\n                        opacity: 0\n                    },\n                    transition: {\n                        duration: 0.3\n                    },\n                    onClick: handleCloseEditModal\n                }, void 0, false, {\n                    fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n                    lineNumber: 1732,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n            lineNumber: 1320,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"e:\\\\ynnai_beat 1.2 - 副本\\\\pages\\\\draw.js\",\n        lineNumber: 1319,\n        columnNumber: 5\n    }, this);\n}\n_s(Draw, \"xoW33N6xosAolO5f0x3M3HcWLvg=\");\n_c = Draw;\nvar _c;\n$RefreshReg$(_c, \"Draw\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTVCLDRFQUFDOVYsK0RBQVdBOzRCQUNWdUgsT0FBT3ZHLE9BQU9nVyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUV0USxFQUFFLEtBQUtoRTs0QkFDakN1VSxtQkFBbUIxSzs0QkFDbkIySyxXQUFXeks7NEJBQ1gwSyxVQUFVcks7NEJBQ1ZzSyxrQkFBa0IvSzs0QkFDbEJnTCxlQUFlL0s7NEJBQ2ZnTCxrQkFBa0I7Z0NBQ2hCMUssUUFBUXpNLEVBQUFBLGdDQUFBQSxlQUFlLENBQUN1QyxhQUFhLGNBQTdCdkMsb0RBQUFBLDhCQUErQjRMLFFBQVEsS0FBSTtnQ0FDbkRySCxPQUFPdkUsRUFBQUEsaUNBQUFBLGVBQWUsQ0FBQ3VDLGFBQWEsY0FBN0J2QyxxREFBQUEsK0JBQStCdUUsS0FBSyxLQUFJO2dDQUMvQ3NILFlBQVk1TCxFQUFBQSwrQkFBQUEsY0FBYyxDQUFDc0MsYUFBYSxjQUE1QnRDLG1EQUFBQSw2QkFBOEJ1QixDQUFDLEtBQUk7Z0NBQy9Dc0ssWUFBWTdMLEVBQUFBLGdDQUFBQSxjQUFjLENBQUNzQyxhQUFhLGNBQTVCdEMsb0RBQUFBLDhCQUE4QndCLENBQUMsS0FBSTs0QkFDakQ7Ozs7Ozs7Ozs7Ozs7Ozs7Z0JBS1BpQixpQ0FDQyw4REFBQ25ELGlEQUFNQSxDQUFDK1MsR0FBRztvQkFDVEMsV0FBVTtvQkFDVmdELFNBQVM7d0JBQUVDLFNBQVM7b0JBQUU7b0JBQ3RCQyxTQUFTO3dCQUFFRCxTQUFTO29CQUFFO29CQUN0Qm1CLE1BQU07d0JBQUVuQixTQUFTO29CQUFFO29CQUNuQmYsWUFBWTt3QkFBRWlCLFVBQVU7b0JBQUk7b0JBQzVCN0IsU0FBU2pEOzs7Ozs7Ozs7Ozs7Ozs7OztBQU1yQjtHQXRzRHdCN1E7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvZHJhdy5qcz83YTA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IExheW91dCBmcm9tICdAL2NvbXBvbmVudHMvTGF5b3V0L0xheW91dCc7XG5pbXBvcnQgQUlQb3J0cmFpdE1vZGFsIGZyb20gJy4uL2NvbXBvbmVudHMvQUlQb3J0cmFpdE1vZGFsJztcbmltcG9ydCBBcmNoaXZlTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9BcmNoaXZlTW9kYWwnO1xuaW1wb3J0IEltYWdlRWRpdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvSW1hZ2VFZGl0b3InO1xuaW1wb3J0IFNsb3RTZWxlY3RvciBmcm9tICcuLi9zZXJ2aWNlcy9zbG90U2VydmljZS9TbG90U2VsZWN0b3InOyAvLyDkv67mraPlr7zlhaXot6/lvoRcbmltcG9ydCBFZGl0SGludCBmcm9tICcuLi9jb21wb25lbnRzL0VkaXRIaW50JzsgLy8g5a+85YWlRWRpdEhpbnTnu4Tku7ZcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRHJhdygpIHtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtkaW1lbnNpb25zLCBzZXREaW1lbnNpb25zXSA9IHVzZVN0YXRlKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgY29uc3QgW2hhc0ltYWdlLCBzZXRIYXNJbWFnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xheWVycywgc2V0TGF5ZXJzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3Nob3dMYXllcnMsIHNldFNob3dMYXllcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBsYXllcklucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRMYXllciwgc2V0U2VsZWN0ZWRMYXllcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xheWVyUG9zaXRpb25zLCBzZXRMYXllclBvc2l0aW9uc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtpc0RyYWdnaW5nSW1hZ2UsIHNldElzRHJhZ2dpbmdJbWFnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkcmFnU3RhcnQsIHNldERyYWdTdGFydF0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IFtpbWFnZUNhY2hlLCBzZXRJbWFnZUNhY2hlXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3Qgb2Zmc2NyZWVuQ2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbc2hvd0FJUG9ydHJhaXRNb2RhbCwgc2V0U2hvd0FJUG9ydHJhaXRNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93QXJjaGl2ZU1vZGFsLCBzZXRTaG93QXJjaGl2ZU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dCdXR0b25zLCBzZXRTaG93QnV0dG9uc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93RWRpdEhpbnQsIHNldFNob3dFZGl0SGludF0gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIOa3u+WKoOe8lui+keaPkOekuueKtuaAgVxuXG4gIC8vIOaWsOWinue8lui+keaooeW8j+ebuOWFs+eKtuaAgVxuICBjb25zdCBbZWRpdE1vZGUsIHNldEVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRpbmdMYXllciwgc2V0RWRpdGluZ0xheWVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbGF5ZXJUcmFuc2Zvcm1zLCBzZXRMYXllclRyYW5zZm9ybXNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbaXNFZGl0TW9kYWxPcGVuLCBzZXRJc0VkaXRNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpOyAvLyDmlrDlop7nvJbovpHlvLnnqpfnirbmgIFcblxuICAvLyDorqHnrpfnlLvluIPlsLrlr7hcbiAgY29uc3QgY2FsY3VsYXRlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCBwYWRkaW5nID0gMTY7XG4gICAgY29uc3QgYnV0dG9uQXJlYUhlaWdodCA9IDgwO1xuICAgIGNvbnN0IHRvcE9mZnNldCA9IDUwO1xuICAgIFxuICAgIC8vIOWinuWKoOacgOWkp+WuveW6plxuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGggLSAocGFkZGluZyAqIDIpLCA4MDApO1xuICAgIFxuICAgIC8vIOagueaNrjM6NOavlOS+i+iuoeeul+mrmOW6plxuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gMyAvIDQ7XG4gICAgY29uc3Qgd2lkdGggPSBtYXhXaWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgIFxuICAgIC8vIOehruS/nemrmOW6puS4jei2hei/h+WPr+eUqOepuumXtFxuICAgIGNvbnN0IG1heEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIChwYWRkaW5nICogMikgLSBidXR0b25BcmVhSGVpZ2h0IC0gdG9wT2Zmc2V0O1xuICAgIFxuICAgIC8vIOWmguaenOiuoeeul+eahOmrmOW6pui2hei/h+acgOWkp+mrmOW6pu+8jOWImeWPjeWQkeiuoeeul+WuveW6plxuICAgIGlmIChoZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgIGNvbnN0IGFkanVzdGVkSGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgICAgY29uc3QgYWRqdXN0ZWRXaWR0aCA9IGFkanVzdGVkSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICBzZXREaW1lbnNpb25zKHsgd2lkdGg6IGFkanVzdGVkV2lkdGgsIGhlaWdodDogYWRqdXN0ZWRIZWlnaHQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpbWVuc2lvbnMoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyDliJ3lp4vljJblkoznm5HlkKznqpflj6PlpKflsI/lj5jljJZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyDorqHnrpfnlLvluIPlsLrlr7hcbiAgICBjYWxjdWxhdGVEaW1lbnNpb25zKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNhbGN1bGF0ZURpbWVuc2lvbnMpO1xuXG4gICAgLy8g5Yid5aeL5YyW5qe95L2N6YCJ5oup5ZmoXG4gICAgY29uc29sZS5sb2coJ+WIneWni+WMluanveS9jemAieaLqeWZqCcpO1xuICAgIHdpbmRvdy5zbG90U2VsZWN0b3IgPSBTbG90U2VsZWN0b3IuZ2V0SW5zdGFuY2UoKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNhbGN1bGF0ZURpbWVuc2lvbnMpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyDliJ3lp4vljJbnlLvluINcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQgJiYgZGltZW5zaW9ucy53aWR0aCAmJiBkaW1lbnNpb25zLmhlaWdodCkge1xuICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIFxuICAgICAgLy8g6I635Y+W6K6+5aSH5YOP57Sg5q+UXG4gICAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgXG4gICAgICAvLyDorr7nva7nlLvluIPnmoTlrp7pmYXlpKflsI9cbiAgICAgIGNhbnZhcy53aWR0aCA9IGRpbWVuc2lvbnMud2lkdGggKiBkcHI7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQgKiBkcHI7XG4gICAgICBcbiAgICAgIC8vIOiuvue9rueUu+W4g+eahOaYvuekuuWkp+Wwj1xuICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gYCR7ZGltZW5zaW9ucy53aWR0aH1weGA7XG4gICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7ZGltZW5zaW9ucy5oZWlnaHR9cHhgO1xuICAgICAgXG4gICAgICAvLyDmoLnmja7orr7lpIflg4/ntKDmr5TnvKnmlL7kuIrkuIvmlodcbiAgICAgIGN0eC5zY2FsZShkcHIsIGRwcik7XG4gICAgICBcbiAgICAgIC8vIOiuvue9rua4suafk+S8mOWMllxuICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgICBjdHguaW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gJ2hpZ2gnO1xuICAgICAgXG4gICAgICAvLyDloavlhYXnmb3oibLog4zmma9cbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgZGltZW5zaW9ucy53aWR0aCwgZGltZW5zaW9ucy5oZWlnaHQpO1xuICAgIH1cbiAgfSwgW2RpbWVuc2lvbnNdKTtcblxuICAvLyDlpITnkIbmi5bmi73kuovku7ZcbiAgY29uc3QgaGFuZGxlRHJhZ092ZXIgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRHJhZ0xlYXZlID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcm9wID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcblxuICAgIGNvbnN0IGZpbGUgPSBlLmRhdGFUcmFuc2Zlci5maWxlcz8uWzBdO1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBoYW5kbGVGaWxlKGZpbGUpO1xuICAgIH1cbiAgfTtcblxuICAvLyDnu5/kuIDlpITnkIbmlofku7ZcbiAgY29uc3QgaGFuZGxlRmlsZSA9IChmaWxlKSA9PiB7XG4gICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgIGFsZXJ0KCfor7fpgInmi6nlm77niYfmlofku7YnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuXG4gICAgICAgIC8vIOS/neaMgTM6NOeahOeUu+W4g+avlOS+i1xuICAgICAgICBjb25zdCBjYW52YXNSYXRpbyA9IDMvNDtcbiAgICAgICAgXG4gICAgICAgIC8vIOiuoeeul+eUu+W4g+WwuuWvuO+8jOWfuuS6juWbvueJh+WwuuWvuFxuICAgICAgICBsZXQgY2FudmFzV2lkdGggPSBkaW1lbnNpb25zLndpZHRoICogZHByO1xuICAgICAgICBsZXQgY2FudmFzSGVpZ2h0ID0gY2FudmFzV2lkdGggLyBjYW52YXNSYXRpbztcblxuICAgICAgICAvLyDorr7nva7nlLvluIPlsLrlr7hcbiAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IGAke2NhbnZhc1dpZHRoIC8gZHByfXB4YDtcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGAke2NhbnZhc0hlaWdodCAvIGRwcn1weGA7XG5cbiAgICAgICAgLy8g5riF56m655S75biD5bm26K6+572u55m96Imy6IOM5pmvXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIOiuvue9rua4suafk+S8mOWMllxuICAgICAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nUXVhbGl0eSA9ICdoaWdoJztcblxuICAgICAgICAvLyDorqHnrpflm77niYfnvKnmlL7lkozkvY3nva5cbiAgICAgICAgY29uc3QgaW1hZ2VSYXRpbyA9IGltZy53aWR0aCAvIGltZy5oZWlnaHQ7XG4gICAgICAgIGxldCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0LCB4LCB5O1xuXG4gICAgICAgIGlmIChpbWFnZVJhdGlvID09PSAxKSB7XG4gICAgICAgICAgLy8g5q2j5pa55b2i5Zu+54mH77yM5bGF5Lit5pi+56S6XG4gICAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgubWluKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgICAgIHRhcmdldFdpZHRoID0gc2l6ZTtcbiAgICAgICAgICB0YXJnZXRIZWlnaHQgPSBzaXplO1xuICAgICAgICAgIHggPSAoY2FudmFzV2lkdGggLSBzaXplKSAvIDI7XG4gICAgICAgICAgeSA9IChjYW52YXNIZWlnaHQgLSBzaXplKSAvIDI7XG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VSYXRpbyA+IDEpIHtcbiAgICAgICAgICAvLyDmqKrlkJHlm77niYfvvIzpgILlupTlrr3luqZcbiAgICAgICAgICB0YXJnZXRXaWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgICAgIHRhcmdldEhlaWdodCA9IGNhbnZhc1dpZHRoIC8gaW1hZ2VSYXRpbztcbiAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICB5ID0gKGNhbnZhc0hlaWdodCAtIHRhcmdldEhlaWdodCkgLyAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOe6teWQkeWbvueJh++8jOmAguW6lOmrmOW6plxuICAgICAgICAgIHRhcmdldEhlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgICAgICB0YXJnZXRXaWR0aCA9IGNhbnZhc0hlaWdodCAqIGltYWdlUmF0aW87XG4gICAgICAgICAgeCA9IChjYW52YXNXaWR0aCAtIHRhcmdldFdpZHRoKSAvIDI7XG4gICAgICAgICAgeSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIOe7mOWItuWbvueJh1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgeCwgeSwgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICBzZXRIYXNJbWFnZSh0cnVlKTtcbiAgICAgICAgc2V0U2hvd0VkaXRIaW50KHRydWUpOyAvLyDmmL7npLrnvJbovpHmj5DnpLpcblxuICAgICAgICBjb25zdCBuZXdMYXllciA9IHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgc3JjOiBlLnRhcmdldD8ucmVzdWx0IHx8ICcnLFxuICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgd2lkdGg6IGltZy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGltZy5oZWlnaHQsXG4gICAgICAgICAgb3JkZXI6IDEgLy8g5re75Yqgb3JkZXLlsZ7mgKfvvIzmlrDlm77lsYLlp4vnu4jkuLox5Y+3XG4gICAgICAgIH07XG4gICAgICAgIC8vIOabtOaWsOWFtuS7luWbvuWxgueahG9yZGVyXG4gICAgICAgIHNldExheWVycyhwcmV2TGF5ZXJzID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkTGF5ZXJzID0gcHJldkxheWVycy5tYXAobGF5ZXIgPT4gKHtcbiAgICAgICAgICAgIC4uLmxheWVyLFxuICAgICAgICAgICAgb3JkZXI6IGxheWVyLm9yZGVyICsgMVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByZXR1cm4gW25ld0xheWVyLCAuLi51cGRhdGVkTGF5ZXJzXTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIOiuvue9ruaWsOWbvuWxguS9jee9rlxuICAgICAgICBzZXRMYXllclBvc2l0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbbmV3TGF5ZXIuaWRdOiB7IHg6IDAsIHk6IDAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIC8vIOiHquWKqOmAieS4reaWsOWbvuWxglxuICAgICAgICBzZXRTZWxlY3RlZExheWVyKG5ld0xheWVyLmlkKTtcbiAgICAgIH07XG4gICAgICBpbWcuc3JjID0gZS50YXJnZXQ/LnJlc3VsdCB8fCAnJztcbiAgICB9O1xuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICB9O1xuXG4gIC8vIOWkhOeQhuWbvueJh+S4iuS8oFxuICBjb25zdCBoYW5kbGVVcGxvYWQgPSAoKSA9PiB7XG4gICAgZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCk7XG4gIH07XG5cbiAgLy8g5aSE55CG5paH5Lu26YCJ5oupXG4gIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3QgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIGhhbmRsZUZpbGUoZmlsZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIOWkhOeQhuaZuuiDveeUu+WDj+mAieaLqVxuICBjb25zdCBoYW5kbGVQb3J0cmFpdFN0eWxlU2VsZWN0ID0gYXN5bmMgKHN0eWxlSWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ+W8gOWni+WkhOeQhumjjuagvOmAieaLqTonLCBzdHlsZUlkKTtcbiAgICAgIFxuICAgICAgLy8g56Gu5L+dIHNsb3RTZWxlY3RvciDlt7LliJ3lp4vljJZcbiAgICAgIGlmICghd2luZG93LnNsb3RTZWxlY3Rvcikge1xuICAgICAgICBjb25zb2xlLmxvZygn6YeN5paw5Yid5aeL5YyW5qe95L2N6YCJ5oup5ZmoJyk7XG4gICAgICAgIHdpbmRvdy5zbG90U2VsZWN0b3IgPSBTbG90U2VsZWN0b3IuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g6I635Y+W55S75biD5Zu+54mH5pWw5o2uXG4gICAgICBjb25zb2xlLmxvZygn6I635Y+W55S75biD5Zu+54mH5pWw5o2uLi4uJyk7XG4gICAgICBjb25zdCBpbWFnZUJsb2IgPSBhd2FpdCBnZXRDYW52YXNJbWFnZSgpO1xuICAgICAgY29uc29sZS5sb2coJ+eUu+W4g+WbvueJh+aVsOaNruWkp+WwjzonLCBpbWFnZUJsb2Iuc2l6ZSk7XG4gICAgICBcbiAgICAgIC8vIOeUn+aIkOaXtumXtOaIs+WSjOaXpeacn+ebruW9lVxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHllYXIgPSBub3cuZ2V0RnVsbFllYXIoKTtcbiAgICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgIGNvbnN0IGRheSA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgY29uc3QgaG91cnMgPSBTdHJpbmcobm93LmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICBjb25zdCBtaW51dGVzID0gU3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICBjb25zdCBzZWNvbmRzID0gU3RyaW5nKG5vdy5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICBcbiAgICAgIC8vIOaehOW7uuaXpeacn+ebruW9leWSjOaXtumXtOaIs1xuICAgICAgY29uc3QgZGF0ZURpciA9IGAke3llYXJ9JHttb250aH0ke2RheX1gO1xuICAgICAgY29uc3QgdGltZXN0YW1wID0gYCR7eWVhcn0ke21vbnRofSR7ZGF5fSR7aG91cnN9JHttaW51dGVzfSR7c2Vjb25kc31gO1xuICAgICAgY29uc29sZS5sb2coJ+eUn+aIkOeahOaXpeacn+ebruW9lTonLCBkYXRlRGlyKTtcbiAgICAgIGNvbnNvbGUubG9nKCfnlJ/miJDnmoTml7bpl7TmiLM6JywgdGltZXN0YW1wKTtcbiAgICAgIFxuICAgICAgLy8g5LiK5Lyg5Zu+54mH5Yiw5pyN5Yqh56uvIEFQSVxuICAgICAgY29uc29sZS5sb2coJ+WHhuWkh+S4iuS8oOWbvueJhy4uLicpO1xuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGltYWdlQmxvYiwgJ2ltYWdlLnBuZycpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCdkYXRlRGlyJywgZGF0ZURpcik7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RpbWVzdGFtcCcsIHRpbWVzdGFtcCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ3N0eWxlSWQnLCBzdHlsZUlkKTtcblxuICAgICAgLy8g5Y+R6YCB5Yiw5pyN5Yqh56uvIEFQSVxuICAgICAgY29uc29sZS5sb2coJ+WPkemAgeS4iuS8oOivt+axgi4uLicpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS91cGxvYWQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXBsb2FkIGZhaWxlZCcpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IHVybCB9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ+S4iuS8oOaIkOWKn++8jOi/lOWbnlVSTDonLCB1cmwpO1xuICAgICAgXG4gICAgICAvLyDlhbPpl63mqKHmgIHmoYZcbiAgICAgIHNldFNob3dBSVBvcnRyYWl0TW9kYWwoZmFsc2UpO1xuXG4gICAgICAvLyDmnoTpgKDmlofku7blkI1cbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gYFlubkFJLSR7dGltZXN0YW1wfV8ke3N0eWxlSWR9LnBuZ2A7XG4gICAgICBjb25zb2xlLmxvZygn55Sf5oiQ55qE5paH5Lu25ZCNOicsIGZpbGVOYW1lKTtcbiAgICAgIFxuICAgICAgLy8g5bCG5paH5Lu25ZCN5Lyg57uZ5Zu+5qe96YCJ5oup5Zmo5bm25r+A5rS75Zu+5qe9XG4gICAgICBpZiAod2luZG93LnNsb3RTZWxlY3Rvcikge1xuICAgICAgICBjb25zb2xlLmxvZygn5byA5aeL6K6+572u5qe95L2NLi4uJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfkvKDlhaXnmoTmlofku7blkI06JywgZmlsZU5hbWUpO1xuICAgICAgICBjb25zdCB7IHNsb3RJZCwgc2xvdERhdGEgfSA9IGF3YWl0IHdpbmRvdy5zbG90U2VsZWN0b3Iuc2V0U2xvdE5hbWVBbmRBY3RpdmF0ZShmaWxlTmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfmp73kvY3orr7nva7miJDlip86Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCctIOanveS9jUlEOicsIHNsb3RJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCctIOanveS9jeaVsOaNrjonLCBzbG90RGF0YSk7XG4gICAgICAgIFxuICAgICAgICAvLyDmiZPlvIDlrZjmoaPku5PlupPmmL7npLrov5vluqZcbiAgICAgICAgY29uc29sZS5sb2coJ+aJk+W8gOWtmOaho+S7k+W6k+aYvuekuui/m+W6picpO1xuICAgICAgICBzZXRTaG93QXJjaGl2ZU1vZGFsKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfmnKrmib7liLAgc2xvdFNlbGVjdG9yIOWunuS+iycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCflpITnkIbpo47moLzpgInmi6nml7blh7rplJk6JywgZXJyb3IpO1xuICAgICAgLy8g6L+Z6YeM5Y+v5Lul5re75Yqg6ZSZ6K+v5aSE55CGVUnmj5DnpLpcbiAgICB9XG4gIH07XG5cbiAgLy8g5aSE55CG5Zu+54mH5LiL6L29XG4gIGNvbnN0IGhhbmRsZURvd25sb2FkID0gKCkgPT4ge1xuICAgIC8vIOWFiOWPlua2iOmAieS4reeKtuaAgVxuICAgIHNldFNlbGVjdGVkTGF5ZXIobnVsbCk7XG4gICAgXG4gICAgLy8g5bu26L+f5LiA5bin5omn6KGM5LiL6L2977yM56Gu5L+d6YCJ5Lit54q25oCB6KKr5riF6ZmkXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8g5Yib5bu65Li05pe26ZO+5o6l5bm26Kem5Y+R5LiL6L29XG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgbGluay5kb3dubG9hZCA9ICdjYW52YXMtaW1hZ2UucG5nJztcbiAgICAgIGxpbmsuaHJlZiA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuICAgICAgbGluay5jbGljaygpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIOWkhOeQhuWtmOaho1xuICBjb25zdCBoYW5kbGVBcmNoaXZlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dBcmNoaXZlTW9kYWwodHJ1ZSk7XG4gIH0sIFtdKTtcblxuICAvLyDlpITnkIblm77lsYLkuIrkvKBcbiAgY29uc3QgaGFuZGxlTGF5ZXJVcGxvYWQgPSAoKSA9PiB7XG4gICAgbGF5ZXJJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpO1xuICB9O1xuXG4gIC8vIOWkhOeQhuWbvuWxguaWh+S7tumAieaLqVxuICBjb25zdCBoYW5kbGVMYXllckZpbGVTZWxlY3QgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIGhhbmRsZUxheWVyRmlsZShmaWxlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g5aSE55CG5Zu+5bGC5paH5Lu2XG4gIGNvbnN0IGhhbmRsZUxheWVyRmlsZSA9IChmaWxlKSA9PiB7XG4gICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgIGFsZXJ0KCfor7fpgInmi6nlm77niYfmlofku7YnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXJzLmxlbmd0aCA+PSA1KSB7XG4gICAgICBhbGVydCgn5pyA5aSa5Y+q6IO95re75YqgNeS4quWbvuWxgicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0xheWVyID0ge1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICBzcmM6IGUudGFyZ2V0Py5yZXN1bHQgfHwgJycsXG4gICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICB3aWR0aDogaW1nLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogaW1nLmhlaWdodCxcbiAgICAgICAgICBvcmRlcjogMSAvLyDmt7vliqBvcmRlcuWxnuaAp++8jOaWsOWbvuWxguWni+e7iOS4ujHlj7dcbiAgICAgICAgfTtcbiAgICAgICAgLy8g5pu05paw5YW25LuW5Zu+5bGC55qEb3JkZXJcbiAgICAgICAgc2V0TGF5ZXJzKHByZXZMYXllcnMgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRMYXllcnMgPSBwcmV2TGF5ZXJzLm1hcChsYXllciA9PiAoe1xuICAgICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgICBvcmRlcjogbGF5ZXIub3JkZXIgKyAxXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHJldHVybiBbbmV3TGF5ZXIsIC4uLnVwZGF0ZWRMYXllcnNdO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8g6K6+572u5paw5Zu+5bGC5L2N572uXG4gICAgICAgIHNldExheWVyUG9zaXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtuZXdMYXllci5pZF06IHsgeDogMCwgeTogMCB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8g6Ieq5Yqo6YCJ5Lit5paw5Zu+5bGCXG4gICAgICAgIHNldFNlbGVjdGVkTGF5ZXIobmV3TGF5ZXIuaWQpO1xuICAgICAgfTtcbiAgICAgIGltZy5zcmMgPSBlLnRhcmdldD8ucmVzdWx0IHx8ICcnO1xuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH07XG5cbiAgLy8g5aSE55CG5Zu+5bGC5LiK56e7XG4gIGNvbnN0IGhhbmRsZU1vdmVVcCA9IChpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuO1xuICAgIHNldExheWVycyhwcmV2TGF5ZXJzID0+IHtcbiAgICAgIGNvbnN0IG5ld0xheWVycyA9IFsuLi5wcmV2TGF5ZXJzXTtcbiAgICAgIGNvbnN0IGN1cnJlbnRMYXllciA9IG5ld0xheWVyc1tpbmRleF07XG4gICAgICBjb25zdCB1cHBlckxheWVyID0gbmV3TGF5ZXJzW2luZGV4IC0gMV07XG4gICAgICBcbiAgICAgIC8vIOS6pOaNom9yZGVy5YC8XG4gICAgICBjb25zdCB0ZW1wT3JkZXIgPSBjdXJyZW50TGF5ZXIub3JkZXI7XG4gICAgICBjdXJyZW50TGF5ZXIub3JkZXIgPSB1cHBlckxheWVyLm9yZGVyO1xuICAgICAgdXBwZXJMYXllci5vcmRlciA9IHRlbXBPcmRlcjtcbiAgICAgIFxuICAgICAgLy8g5qC55o2ub3JkZXLmjpLluo9cbiAgICAgIHJldHVybiBuZXdMYXllcnMuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIOWkhOeQhuWbvuWxguS4i+enu1xuICBjb25zdCBoYW5kbGVNb3ZlRG93biA9IChpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCA9PT0gbGF5ZXJzLmxlbmd0aCAtIDEpIHJldHVybjtcbiAgICBzZXRMYXllcnMocHJldkxheWVycyA9PiB7XG4gICAgICBjb25zdCBuZXdMYXllcnMgPSBbLi4ucHJldkxheWVyc107XG4gICAgICBjb25zdCBjdXJyZW50TGF5ZXIgPSBuZXdMYXllcnNbaW5kZXhdO1xuICAgICAgY29uc3QgbG93ZXJMYXllciA9IG5ld0xheWVyc1tpbmRleCArIDFdO1xuICAgICAgXG4gICAgICAvLyDkuqTmjaJvcmRlcuWAvFxuICAgICAgY29uc3QgdGVtcE9yZGVyID0gY3VycmVudExheWVyLm9yZGVyO1xuICAgICAgY3VycmVudExheWVyLm9yZGVyID0gbG93ZXJMYXllci5vcmRlcjtcbiAgICAgIGxvd2VyTGF5ZXIub3JkZXIgPSB0ZW1wT3JkZXI7XG4gICAgICBcbiAgICAgIC8vIOagueaNrm9yZGVy5o6S5bqPXG4gICAgICByZXR1cm4gbmV3TGF5ZXJzLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyDlpITnkIblm77lsYLlj6/op4HmgKfliIfmjaJcbiAgY29uc3QgaGFuZGxlTGF5ZXJWaXNpYmlsaXR5ID0gKGxheWVySWQpID0+IHtcbiAgICBzZXRMYXllcnMocHJldkxheWVycyA9PlxuICAgICAgcHJldkxheWVycy5tYXAobGF5ZXIgPT5cbiAgICAgICAgbGF5ZXIuaWQgPT09IGxheWVySWRcbiAgICAgICAgICA/IHsgLi4ubGF5ZXIsIHZpc2libGU6ICFsYXllci52aXNpYmxlIH1cbiAgICAgICAgICA6IGxheWVyXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICAvLyDlpITnkIblm77lsYLpgInmi6lcbiAgY29uc3QgaGFuZGxlTGF5ZXJTZWxlY3QgPSAobGF5ZXJJZCwgZSkgPT4ge1xuICAgIGU/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIFxuICAgIC8vIOWmguaenOWcqOe8lui+keaooeW8j+S4lOmAieS4reeahOS4jeaYr+W9k+WJjee8lui+keeahOWbvuWxgu+8jOS4jeWFgeiuuOWIh+aNolxuICAgIGlmIChlZGl0TW9kZSAmJiBsYXllcklkICE9PSBlZGl0aW5nTGF5ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8g5aaC5p6c54K55Ye755qE5piv5b2T5YmN6YCJ5Lit55qE5Zu+5bGC77yM5bm25LiU5LiN5Zyo57yW6L6R5qih5byP77yM5YiZ5Y+W5raI6YCJ5LitXG4gICAgaWYgKGxheWVySWQgPT09IHNlbGVjdGVkTGF5ZXIgJiYgIWVkaXRNb2RlKSB7XG4gICAgICBzZXRTZWxlY3RlZExheWVyKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyDpgInkuK3mlrDlm77lsYJcbiAgICBzZXRTZWxlY3RlZExheWVyKGxheWVySWQpO1xuICAgIFxuICAgIC8vIOWmguaenOivpeWbvuWxguS4jeWPr+inge+8jOWImeiuvuS4uuWPr+ingVxuICAgIHNldExheWVycyhwcmV2TGF5ZXJzID0+XG4gICAgICBwcmV2TGF5ZXJzLm1hcChsYXllciA9PlxuICAgICAgICBsYXllci5pZCA9PT0gbGF5ZXJJZFxuICAgICAgICAgID8geyAuLi5sYXllciwgdmlzaWJsZTogdHJ1ZSB9XG4gICAgICAgICAgOiBsYXllclxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgLy8g6L+b5YWl57yW6L6R5qih5byPXG4gIGNvbnN0IGhhbmRsZUVkaXRMYXllciA9IChsYXllcklkKSA9PiB7XG4gICAgLy8g5aaC5p6c5Zu+5bGC6Z2i5p2/5omT5byA77yM5LiN6L+b5YWl57yW6L6R5qih5byPXG4gICAgaWYgKHNob3dMYXllcnMpIHJldHVybjtcblxuICAgIHNldEVkaXRNb2RlKHRydWUpO1xuICAgIHNldEVkaXRpbmdMYXllcihsYXllcklkKTtcbiAgICBcbiAgICAvLyDojrflj5blvZPliY3lj5jmjaLlgLxcbiAgICBjb25zdCBjdXJyZW50VHJhbnNmb3JtID0gbGF5ZXJUcmFuc2Zvcm1zW2xheWVySWRdIHx8IHtcbiAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgc2NhbGU6IDEsXG4gICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgdHJhbnNsYXRlWTogMFxuICAgIH07XG4gICAgXG4gICAgLy8g5pu05paw5Y+Y5o2i5YC877yM5L+d5oyB5b2T5YmN54q25oCBXG4gICAgc2V0TGF5ZXJUcmFuc2Zvcm1zKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbbGF5ZXJJZF06IHtcbiAgICAgICAgLi4uY3VycmVudFRyYW5zZm9ybSxcbiAgICAgICAgcHJldmlvdXNTdGF0ZTogeyAuLi5jdXJyZW50VHJhbnNmb3JtIH0gLy8g5L+d5a2Y57yW6L6R5YmN55qE54q25oCB77yM55So5LqO5Y+W5raI57yW6L6RXG4gICAgICB9XG4gICAgfSkpO1xuICAgIHNldElzRWRpdE1vZGFsT3Blbih0cnVlKTsgLy8g5omT5byA57yW6L6R5by556qXXG4gIH07XG5cbiAgLy8g6YCA5Ye657yW6L6R5qih5byPXG4gIGNvbnN0IGhhbmRsZUVkaXRDb21wbGV0ZSA9IChzYXZlID0gdHJ1ZSkgPT4ge1xuICAgIGlmICghZWRpdE1vZGUgfHwgIWVkaXRpbmdMYXllcikgcmV0dXJuO1xuICAgIFxuICAgIGlmIChzYXZlKSB7XG4gICAgICAvLyDkv53lrZjlvZPliY3lj5jmjaLnirbmgIFcbiAgICAgIGNvbnN0IGN1cnJlbnRUcmFuc2Zvcm0gPSBsYXllclRyYW5zZm9ybXNbZWRpdGluZ0xheWVyXTtcbiAgICAgIHNldExheWVyVHJhbnNmb3JtcyhwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIFtlZGl0aW5nTGF5ZXJdOiB7XG4gICAgICAgICAgcm90YXRpb246IGN1cnJlbnRUcmFuc2Zvcm0ucm90YXRpb24sXG4gICAgICAgICAgc2NhbGU6IGN1cnJlbnRUcmFuc2Zvcm0uc2NhbGUsXG4gICAgICAgICAgdHJhbnNsYXRlWDogbGF5ZXJQb3NpdGlvbnNbZWRpdGluZ0xheWVyXT8ueCB8fCAwLFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IGxheWVyUG9zaXRpb25zW2VkaXRpbmdMYXllcl0/LnkgfHwgMFxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOWPlua2iOe8lui+ke+8jOaBouWkjeS5i+WJjeeahOeKtuaAgVxuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IGxheWVyVHJhbnNmb3Jtc1tlZGl0aW5nTGF5ZXJdPy5wcmV2aW91c1N0YXRlO1xuICAgICAgaWYgKHByZXZpb3VzU3RhdGUpIHtcbiAgICAgICAgc2V0TGF5ZXJUcmFuc2Zvcm1zKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtlZGl0aW5nTGF5ZXJdOiB7IC4uLnByZXZpb3VzU3RhdGUgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHNldExheWVyUG9zaXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtlZGl0aW5nTGF5ZXJdOiB7XG4gICAgICAgICAgICB4OiBwcmV2aW91c1N0YXRlLnRyYW5zbGF0ZVgsXG4gICAgICAgICAgICB5OiBwcmV2aW91c1N0YXRlLnRyYW5zbGF0ZVlcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgc2V0RWRpdE1vZGUoZmFsc2UpO1xuICAgIHNldEVkaXRpbmdMYXllcihudWxsKTtcbiAgICBzZXRJc0VkaXRNb2RhbE9wZW4oZmFsc2UpOyAvLyDlhbPpl63nvJbovpHlvLnnqpdcbiAgICAvLyDpgIDlh7rnvJbovpHmqKHlvI/lkI7lho3mmL7npLrlm77lsYLpnaLmnb9cbiAgICBzZXRTaG93TGF5ZXJzKHRydWUpO1xuICB9O1xuXG4gIC8vIOWkhOeQhuaXi+i9rOWPmOWMllxuICBjb25zdCBoYW5kbGVSb3RhdGlvbkNoYW5nZSA9IChyb3RhdGlvbikgPT4ge1xuICAgIGlmICghZWRpdGluZ0xheWVyKSByZXR1cm47XG4gICAgc2V0TGF5ZXJUcmFuc2Zvcm1zKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbZWRpdGluZ0xheWVyXToge1xuICAgICAgICAuLi5wcmV2W2VkaXRpbmdMYXllcl0sXG4gICAgICAgIHJvdGF0aW9uXG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xuXG4gIC8vIOWkhOeQhue8qeaUvuWPmOWMllxuICBjb25zdCBoYW5kbGVTY2FsZUNoYW5nZSA9IChzY2FsZSkgPT4ge1xuICAgIGlmICghZWRpdGluZ0xheWVyKSByZXR1cm47XG4gICAgc2V0TGF5ZXJUcmFuc2Zvcm1zKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbZWRpdGluZ0xheWVyXToge1xuICAgICAgICAuLi5wcmV2W2VkaXRpbmdMYXllcl0sXG4gICAgICAgIHNjYWxlXG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xuXG4gIC8vIOWkhOeQhuWPmOaNouabtOaWsFxuICBjb25zdCBoYW5kbGVUcmFuc2Zvcm1DaGFuZ2UgPSAoeyB0eXBlLCB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKCFlZGl0aW5nTGF5ZXIpIHJldHVybjtcblxuICAgIGlmICh0eXBlID09PSAnZXJhc2UnIHx8IHR5cGUgPT09ICdtYXR0aW5nJykge1xuICAgICAgcmV0dXJuOyAvLyDkuI3lho3nm7TmjqXmm7TmlrDvvIznrYnlvoXnoa7orqRcbiAgICB9XG5cbiAgICAvLyDlpITnkIblhbbku5blj5jmjaLnsbvlnosuLi5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3JvdGF0ZSc6XG4gICAgICAgIHNldExheWVyVHJhbnNmb3JtcyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbZWRpdGluZ0xheWVyXToge1xuICAgICAgICAgICAgLi4ucHJldltlZGl0aW5nTGF5ZXJdLFxuICAgICAgICAgICAgcm90YXRpb246IHZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgICBjYXNlICdzY2FsZSc6XG4gICAgICAgIHNldExheWVyVHJhbnNmb3JtcyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbZWRpdGluZ0xheWVyXToge1xuICAgICAgICAgICAgLi4ucHJldltlZGl0aW5nTGF5ZXJdLFxuICAgICAgICAgICAgc2NhbGU6IHZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgICBjYXNlICd0cmFuc2xhdGUnOlxuICAgICAgICBzZXRMYXllclBvc2l0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbZWRpdGluZ0xheWVyXToge1xuICAgICAgICAgICAgeDogdmFsdWUueCxcbiAgICAgICAgICAgIHk6IHZhbHVlLnlcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIGNhc2UgJ3Jlc2V0JzpcbiAgICAgICAgc2V0TGF5ZXJUcmFuc2Zvcm1zKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtlZGl0aW5nTGF5ZXJdOiB7XG4gICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgIHNjYWxlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHNldExheWVyUG9zaXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtlZGl0aW5nTGF5ZXJdOiB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgLy8g56Gu6K6k57yW6L6RXG4gIGNvbnN0IGhhbmRsZUNvbmZpcm1FZGl0ID0gKHRyYW5zZm9ybSkgPT4ge1xuICAgIGlmICghZWRpdGluZ0xheWVyKSByZXR1cm47XG5cbiAgICBpZiAodHJhbnNmb3JtPy50eXBlID09PSAnZXJhc2UnIHx8IHRyYW5zZm9ybT8udHlwZSA9PT0gJ21hdHRpbmcnKSB7XG4gICAgICAvLyDmm7TmlrDlm77lsYLnmoTlm77lg4/mlbDmja7lubbnq4vljbPph43mlrDmuLLmn5PnlLvluINcbiAgICAgIHNldExheWVycyhwcmV2TGF5ZXJzID0+IHtcbiAgICAgICAgY29uc3QgbmV3TGF5ZXJzID0gcHJldkxheWVycy5tYXAobGF5ZXIgPT5cbiAgICAgICAgICBsYXllci5pZCA9PT0gZWRpdGluZ0xheWVyXG4gICAgICAgICAgICA/IHsgLi4ubGF5ZXIsIHNyYzogdHJhbnNmb3JtLnZhbHVlIH1cbiAgICAgICAgICAgIDogbGF5ZXJcbiAgICAgICAgKTtcbiAgICAgICAgLy8g5Zyo54q25oCB5pu05paw5a6M5oiQ5ZCO56uL5Y2z6YeN5paw5riy5p+TXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlQ2FudmFzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3TGF5ZXJzO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIOWFs+mXreW8ueeql1xuICAgICAgc2V0SXNFZGl0TW9kYWxPcGVuKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDmm7TmlrDlhbbku5blj5jmjaJcbiAgICBpZiAodHJhbnNmb3JtPy5yb3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0TGF5ZXJUcmFuc2Zvcm1zKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2VkaXRpbmdMYXllcl06IHtcbiAgICAgICAgICAuLi5wcmV2W2VkaXRpbmdMYXllcl0sXG4gICAgICAgICAgcm90YXRpb246IHRyYW5zZm9ybS5yb3RhdGUsXG4gICAgICAgICAgc2NhbGU6IHRyYW5zZm9ybS5zY2FsZSB8fCAxXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBpZiAodHJhbnNmb3JtPy50cmFuc2xhdGVYICE9PSB1bmRlZmluZWQgJiYgdHJhbnNmb3JtPy50cmFuc2xhdGVZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldExheWVyUG9zaXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2VkaXRpbmdMYXllcl06IHtcbiAgICAgICAgICB4OiB0cmFuc2Zvcm0udHJhbnNsYXRlWCxcbiAgICAgICAgICB5OiB0cmFuc2Zvcm0udHJhbnNsYXRlWVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgLy8g5YWz6Zet5by556qXXG4gICAgc2V0SXNFZGl0TW9kYWxPcGVuKGZhbHNlKTtcbiAgfTtcblxuICAvLyDlj5bmtojnvJbovpFcbiAgY29uc3QgaGFuZGxlQ2FuY2VsRWRpdCA9ICgpID0+IHtcbiAgICAvLyDmgaLlpI3ljp/lp4vlj5jmjaLlgLxcbiAgICBpZiAoZWRpdGluZ0xheWVyKSB7XG4gICAgICBjb25zdCBvcmlnaW5hbFRyYW5zZm9ybSA9IGxheWVyVHJhbnNmb3Jtc1tlZGl0aW5nTGF5ZXJdIHx8IHsgcm90YXRpb246IDAsIHNjYWxlOiAxIH07XG4gICAgICBjb25zdCBvcmlnaW5hbFBvc2l0aW9uID0gbGF5ZXJQb3NpdGlvbnNbZWRpdGluZ0xheWVyXSB8fCB7IHg6IDAsIHk6IDAgfTtcblxuICAgICAgc2V0TGF5ZXJUcmFuc2Zvcm1zKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2VkaXRpbmdMYXllcl06IG9yaWdpbmFsVHJhbnNmb3JtXG4gICAgICB9KSk7XG5cbiAgICAgIHNldExheWVyUG9zaXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2VkaXRpbmdMYXllcl06IG9yaWdpbmFsUG9zaXRpb25cbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvLyDpgIDlh7rnvJbovpHmqKHlvI9cbiAgICBzZXRFZGl0TW9kZShmYWxzZSk7XG4gICAgc2V0RWRpdGluZ0xheWVyKG51bGwpO1xuICAgIHNldElzRWRpdE1vZGFsT3BlbihmYWxzZSk7IC8vIOWFs+mXree8lui+keW8ueeql1xuICAgIC8vIOaooeaLn+eCueWHu+WbvuWxguaMiemSrlxuICAgIHNldFNob3dMYXllcnModHJ1ZSk7XG5cbiAgICAvLyDph43mlrDmuLLmn5PnlLvluINcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdXBkYXRlQ2FudmFzKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8g5pu05paw55S75biDXG4gIGNvbnN0IHVwZGF0ZUNhbnZhcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcblxuICAgIC8vIOa4heepuueUu+W4g1xuICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAvLyDmjIlvcmRlcuWxnuaAp+aOkuW6j+WbvuWxgu+8jG9yZGVy5bCP55qE5Zyo5LiK6Z2i77yI5ZCO57uY5Yi277yJXG4gICAgY29uc3Qgc29ydGVkTGF5ZXJzID0gWy4uLmxheWVyc10uc29ydCgoYSwgYikgPT4gYi5vcmRlciAtIGEub3JkZXIpO1xuXG4gICAgLy8g5oyJ6aG65bqP57uY5Yi25omA5pyJ5Y+v6KeB5Zu+5bGCXG4gICAgc29ydGVkTGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4ge1xuICAgICAgaWYgKCFsYXllci52aXNpYmxlKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1nLnNyYyA9IGxheWVyLnNyYztcblxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gbGF5ZXJUcmFuc2Zvcm1zW2xheWVyLmlkXSB8fCB7IHJvdGF0aW9uOiAwLCBzY2FsZTogMSB9O1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBsYXllclBvc2l0aW9uc1tsYXllci5pZF0gfHwgeyB4OiAwLCB5OiAwIH07XG5cbiAgICAgIC8vIOS/neWtmOW9k+WJjeeKtuaAgVxuICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgLy8g5bqU55So5Y+Y5o2iXG4gICAgICBjdHgudHJhbnNsYXRlKHBvc2l0aW9uLnggKiBkcHIsIHBvc2l0aW9uLnkgKiBkcHIpO1xuICAgICAgY3R4LnRyYW5zbGF0ZShjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7XG4gICAgICBjdHgucm90YXRlKCh0cmFuc2Zvcm0ucm90YXRpb24gKiBNYXRoLlBJKSAvIDE4MCk7XG4gICAgICBjdHguc2NhbGUodHJhbnNmb3JtLnNjYWxlLCB0cmFuc2Zvcm0uc2NhbGUpO1xuICAgICAgY3R4LnRyYW5zbGF0ZSgtY2FudmFzLndpZHRoIC8gMiwgLWNhbnZhcy5oZWlnaHQgLyAyKTtcblxuICAgICAgLy8g57uY5Yi25Zu+5YOPXG4gICAgICBjb25zdCBpbWFnZVJhdGlvID0gbGF5ZXIud2lkdGggLyBsYXllci5oZWlnaHQ7XG4gICAgICBsZXQgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCwgeCwgeTtcblxuICAgICAgaWYgKGltYWdlUmF0aW8gPT09IDEpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgubWluKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIHRhcmdldFdpZHRoID0gc2l6ZTtcbiAgICAgICAgdGFyZ2V0SGVpZ2h0ID0gc2l6ZTtcbiAgICAgICAgeCA9IChjYW52YXMud2lkdGggLSBzaXplKSAvIDI7XG4gICAgICAgIHkgPSAoY2FudmFzLmhlaWdodCAtIHNpemUpIC8gMjtcbiAgICAgIH0gZWxzZSBpZiAoaW1hZ2VSYXRpbyA+IDEpIHtcbiAgICAgICAgdGFyZ2V0V2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgICAgIHRhcmdldEhlaWdodCA9IGNhbnZhcy53aWR0aCAvIGltYWdlUmF0aW87XG4gICAgICAgIHggPSAwO1xuICAgICAgICB5ID0gKGNhbnZhcy5oZWlnaHQgLSB0YXJnZXRIZWlnaHQpIC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIHRhcmdldFdpZHRoID0gY2FudmFzLmhlaWdodCAqIGltYWdlUmF0aW87XG4gICAgICAgIHggPSAoY2FudmFzLndpZHRoIC0gdGFyZ2V0V2lkdGgpIC8gMjtcbiAgICAgICAgeSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCB4LCB5LCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0KTtcblxuICAgICAgLy8g5oGi5aSN54q25oCBXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0pO1xuICB9LCBbbGF5ZXJzLCBsYXllclRyYW5zZm9ybXMsIGxheWVyUG9zaXRpb25zXSk7XG5cbiAgLy8g5b2T5Zu+5bGC54q25oCB5pS55Y+Y5pe25pu05paw55S75biDXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdXBkYXRlQ2FudmFzKCk7XG4gIH0sIFtsYXllcnMsIGxheWVyVHJhbnNmb3JtcywgbGF5ZXJQb3NpdGlvbnMsIHVwZGF0ZUNhbnZhc10pO1xuXG4gIC8vIOWkhOeQhueUu+W4g+m8oOagh+aMieS4i1xuICBjb25zdCBbbW92ZURpc3RhbmNlLCBzZXRNb3ZlRGlzdGFuY2VdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtpbml0aWFsUG9zaXRpb24sIHNldEluaXRpYWxQb3NpdGlvbl0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IG1vdmVUaHJlc2hvbGQgPSA1OyAvLyDnp7vliqjpmIjlgLzvvIzotoXov4fov5nkuKrot53nprvop4bkuLrmi5bliqhcblxuICBjb25zdCBoYW5kbGVDYW52YXNNb3VzZURvd24gPSAoZSkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgY29uc3QgeSA9IGUuY2xpZW50WSAtIHJlY3QudG9wO1xuXG4gICAgLy8g6I635Y+W54K55Ye755qE5Zu+5bGCXG4gICAgY29uc3QgY2xpY2tlZExheWVySWQgPSBnZXRDbGlja2VkTGF5ZXIoeCwgeSk7XG4gICAgXG4gICAgLy8g5aaC5p6c5Zu+5bGC6Z2i5p2/5omT5byA77yM5Y+q5YWB6K645ouW5Yqo77yM5LiN6L+b5YWl57yW6L6R5qih5byPXG4gICAgaWYgKGNsaWNrZWRMYXllcklkKSB7XG4gICAgICBzZXRTZWxlY3RlZExheWVyKGNsaWNrZWRMYXllcklkKTtcbiAgICAgIC8vIOWPquacieWcqOWbvuWxgumdouadv+WFs+mXreaXtuaJjeiuvue9ruaLluWKqOeKtuaAgVxuICAgICAgaWYgKCFzaG93TGF5ZXJzKSB7XG4gICAgICAgIHNldElzRHJhZ2dpbmdJbWFnZSh0cnVlKTtcbiAgICAgICAgc2V0RHJhZ1N0YXJ0KHsgeCwgeSB9KTtcbiAgICAgICAgc2V0SW5pdGlhbFBvc2l0aW9uKHsgeCwgeSB9KTtcbiAgICAgICAgc2V0TW92ZURpc3RhbmNlKDApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTZWxlY3RlZExheWVyKG51bGwpO1xuICAgICAgaWYgKGVkaXRNb2RlKSB7XG4gICAgICAgIGhhbmRsZUNhbmNlbEVkaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8g5aSE55CG55S75biD6byg5qCH56e75YqoXG4gIGNvbnN0IGhhbmRsZUNhbnZhc01vdXNlTW92ZSA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgaWYgKCFpc0RyYWdnaW5nSW1hZ2UgfHwgZWRpdE1vZGUpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgY29uc3QgeSA9IGUuY2xpZW50WSAtIHJlY3QudG9wO1xuICAgIFxuICAgIC8vIOiuoeeul+enu+WKqOi3neemu1xuICAgIGNvbnN0IGR4ID0geCAtIGluaXRpYWxQb3NpdGlvbi54O1xuICAgIGNvbnN0IGR5ID0geSAtIGluaXRpYWxQb3NpdGlvbi55O1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICBzZXRNb3ZlRGlzdGFuY2UoZGlzdGFuY2UpO1xuXG4gICAgaWYgKHNlbGVjdGVkTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGRlbHRhWCA9IHggLSBkcmFnU3RhcnQueDtcbiAgICAgIGNvbnN0IGRlbHRhWSA9IHkgLSBkcmFnU3RhcnQueTtcbiAgICAgIFxuICAgICAgc2V0TGF5ZXJQb3NpdGlvbnMocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBbc2VsZWN0ZWRMYXllcl06IHtcbiAgICAgICAgICB4OiAocHJldltzZWxlY3RlZExheWVyXT8ueCB8fCAwKSArIGRlbHRhWCxcbiAgICAgICAgICB5OiAocHJldltzZWxlY3RlZExheWVyXT8ueSB8fCAwKSArIGRlbHRhWVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHNldERyYWdTdGFydCh7IHgsIHkgfSk7XG4gICAgfVxuICB9LCBbaXNEcmFnZ2luZ0ltYWdlLCBzZWxlY3RlZExheWVyLCBkcmFnU3RhcnQsIGluaXRpYWxQb3NpdGlvbiwgZWRpdE1vZGVdKTtcblxuICAvLyDlpITnkIbnlLvluIPpvKDmoIfmnb7lvIBcbiAgY29uc3QgaGFuZGxlQ2FudmFzTW91c2VVcCA9ICgpID0+IHtcbiAgICBpZiAoaXNEcmFnZ2luZ0ltYWdlICYmIHNlbGVjdGVkTGF5ZXIgJiYgbW92ZURpc3RhbmNlIDwgbW92ZVRocmVzaG9sZCkge1xuICAgICAgLy8g5aaC5p6c5Zu+5bGC6Z2i5p2/5omT5byA77yM5LiN6Kem5Y+R57yW6L6R5qih5byPXG4gICAgICBpZiAoIXNob3dMYXllcnMpIHtcbiAgICAgICAgLy8g5aaC5p6c56e75Yqo6Led56a75bCP5LqO6ZiI5YC877yM6KeG5Li654K55Ye777yM6L+b5YWl57yW6L6R5qih5byPXG4gICAgICAgIGhhbmRsZUVkaXRMYXllcihzZWxlY3RlZExheWVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0SXNEcmFnZ2luZ0ltYWdlKGZhbHNlKTtcbiAgICBzZXRNb3ZlRGlzdGFuY2UoMCk7XG4gIH07XG5cbiAgLy8g5aSE55CG55S75biD6Kem5pG45byA5aeLXG4gIGNvbnN0IGhhbmRsZUNhbnZhc1RvdWNoU3RhcnQgPSAoZSkgPT4ge1xuICAgIGlmICghaGFzSW1hZ2UpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgIGNvbnN0IHggPSB0b3VjaC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgIGNvbnN0IHkgPSB0b3VjaC5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgXG4gICAgLy8g6I635Y+W6Kem5pG455qE5Zu+5bGCXG4gICAgY29uc3QgY2xpY2tlZExheWVySWQgPSBnZXRDbGlja2VkTGF5ZXIoeCwgeSk7XG4gICAgaWYgKGNsaWNrZWRMYXllcklkKSB7XG4gICAgICAvLyDlpoLmnpzlvZPliY3mraPlnKjnvJbovpHvvIzkuI3ov5vooYzmlrDnmoTpgInmi6lcbiAgICAgIGlmIChlZGl0TW9kZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBzZXRTZWxlY3RlZExheWVyKGNsaWNrZWRMYXllcklkKTtcbiAgICAgIHNldElzRHJhZ2dpbmdJbWFnZSh0cnVlKTtcbiAgICAgIHNldERyYWdTdGFydCh7IHgsIHkgfSk7XG4gICAgICBzZXRJbml0aWFsUG9zaXRpb24oeyB4LCB5IH0pO1xuICAgICAgc2V0TW92ZURpc3RhbmNlKDApO1xuICAgICAgXG4gICAgICAvLyDpmLLmraLop6blj5Hlhbbku5bngrnlh7vkuovku7ZcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNlbGVjdGVkTGF5ZXIobnVsbCk7XG4gICAgICBpZiAoZWRpdE1vZGUpIHtcbiAgICAgICAgaGFuZGxlQ2FuY2VsRWRpdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyDlpITnkIbnlLvluIPop6bmkbjnp7vliqhcbiAgY29uc3QgaGFuZGxlQ2FudmFzVG91Y2hNb3ZlID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICBpZiAoIWlzRHJhZ2dpbmdJbWFnZSB8fCBlZGl0TW9kZSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIOmYsuatoumhtemdoua7muWKqFxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgIGNvbnN0IHggPSB0b3VjaC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgIGNvbnN0IHkgPSB0b3VjaC5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgXG4gICAgLy8g6K6h566X56e75Yqo6Led56a7XG4gICAgY29uc3QgZHggPSB4IC0gaW5pdGlhbFBvc2l0aW9uLng7XG4gICAgY29uc3QgZHkgPSB5IC0gaW5pdGlhbFBvc2l0aW9uLnk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIHNldE1vdmVEaXN0YW5jZShkaXN0YW5jZSk7XG5cbiAgICBpZiAoc2VsZWN0ZWRMYXllciAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgZGVsdGFYID0geCAtIGRyYWdTdGFydC54O1xuICAgICAgY29uc3QgZGVsdGFZID0geSAtIGRyYWdTdGFydC55O1xuICAgICAgXG4gICAgICBzZXRMYXllclBvc2l0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIFtzZWxlY3RlZExheWVyXToge1xuICAgICAgICAgIHg6IChwcmV2W3NlbGVjdGVkTGF5ZXJdPy54IHx8IDApICsgZGVsdGFYLFxuICAgICAgICAgIHk6IChwcmV2W3NlbGVjdGVkTGF5ZXJdPy55IHx8IDApICsgZGVsdGFZXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgc2V0RHJhZ1N0YXJ0KHsgeCwgeSB9KTtcbiAgICB9XG4gIH0sIFtpc0RyYWdnaW5nSW1hZ2UsIHNlbGVjdGVkTGF5ZXIsIGRyYWdTdGFydCwgaW5pdGlhbFBvc2l0aW9uLCBlZGl0TW9kZV0pO1xuXG4gIC8vIOWkhOeQhueUu+W4g+inpuaRuOe7k+adn1xuICBjb25zdCBoYW5kbGVDYW52YXNUb3VjaEVuZCA9IChlKSA9PiB7XG4gICAgaWYgKGlzRHJhZ2dpbmdJbWFnZSAmJiBzZWxlY3RlZExheWVyICYmIG1vdmVEaXN0YW5jZSA8IG1vdmVUaHJlc2hvbGQpIHtcbiAgICAgIC8vIOWmguaenOWbvuWxgumdouadv+aJk+W8gOaIluato+WcqOe8lui+keS4re+8jOS4jeinpuWPkee8lui+keaooeW8j1xuICAgICAgaWYgKCFzaG93TGF5ZXJzICYmICFlZGl0TW9kZSkge1xuICAgICAgICAvLyDlpoLmnpznp7vliqjot53nprvlsI/kuo7pmIjlgLzvvIzop4bkuLrngrnlh7vvvIzov5vlhaXnvJbovpHmqKHlvI9cbiAgICAgICAgaGFuZGxlRWRpdExheWVyKHNlbGVjdGVkTGF5ZXIpO1xuICAgICAgICAvLyDpmLLmraLop6blj5Hlhbbku5bngrnlh7vkuovku7ZcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRJc0RyYWdnaW5nSW1hZ2UoZmFsc2UpO1xuICAgIHNldE1vdmVEaXN0YW5jZSgwKTtcbiAgfTtcblxuICAvLyDnp7vpmaTml6fnmoTph43lpI3lh73mlbBcbiAgY29uc3QgbW92ZUxheWVyID0gdXNlQ2FsbGJhY2soKGRlbHRhWCwgZGVsdGFZKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgIHNldExheWVyUG9zaXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW3NlbGVjdGVkTGF5ZXJdOiB7XG4gICAgICAgICAgeDogKHByZXZbc2VsZWN0ZWRMYXllcl0/LnggfHwgMCkgKyBkZWx0YVgsXG4gICAgICAgICAgeTogKHByZXZbc2VsZWN0ZWRMYXllcl0/LnkgfHwgMCkgKyBkZWx0YVlcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkTGF5ZXJdKTtcblxuICAvLyDnvJPlrZjlm77niYdcbiAgY29uc3QgY2FjaGVJbWFnZSA9IHVzZUNhbGxiYWNrKChsYXllcikgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgaWYgKGltYWdlQ2FjaGVbbGF5ZXIuaWRdKSB7XG4gICAgICAgIHJlc29sdmUoaW1hZ2VDYWNoZVtsYXllci5pZF0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgc2V0SW1hZ2VDYWNoZShwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbbGF5ZXIuaWRdOiBpbWdcbiAgICAgICAgfSkpO1xuICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICB9O1xuICAgICAgaW1nLnNyYyA9IGxheWVyLnNyYztcbiAgICB9KTtcbiAgfSwgW2ltYWdlQ2FjaGVdKTtcblxuICAvLyDliJvlu7rnprvlsY/nlLvluINcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGltZW5zaW9ucy53aWR0aCAmJiBkaW1lbnNpb25zLmhlaWdodCkge1xuICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgb2Zmc2NyZWVuLndpZHRoID0gZGltZW5zaW9ucy53aWR0aCAqIGRwcjtcbiAgICAgIG9mZnNjcmVlbi5oZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodCAqIGRwcjtcbiAgICAgIG9mZnNjcmVlbkNhbnZhc1JlZi5jdXJyZW50ID0gb2Zmc2NyZWVuO1xuICAgIH1cbiAgfSwgW2RpbWVuc2lvbnNdKTtcblxuICAvLyDliKTmlq3ngrnlh7vkvY3nva7mmK/lkKblnKjlm77niYflhoVcbiAgY29uc3QgaXNQb2ludEluSW1hZ2UgPSB1c2VDYWxsYmFjaygoeCwgeSwgaW1hZ2VJbmZvKSA9PiB7XG4gICAgY29uc3QgeyBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgfSA9IGltYWdlSW5mbztcbiAgICByZXR1cm4geCA+PSBsZWZ0ICYmIHggPD0gbGVmdCArIHdpZHRoICYmIHkgPj0gdG9wICYmIHkgPD0gdG9wICsgaGVpZ2h0O1xuICB9LCBbXSk7XG5cbiAgLy8g6I635Y+W54K55Ye75L2N572u55qE5Zu+5bGCXG4gIGNvbnN0IGdldENsaWNrZWRMYXllciA9IHVzZUNhbGxiYWNrKCh4LCB5KSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjYW52YXMpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgICAvLyDmjIlvcmRlcuWxnuaAp+aOkuW6j+WbvuWxgu+8jOS7juS4iuWIsOS4i+mBjeWOhu+8iG9yZGVy5bCP55qE5Zyo5LiK6Z2i77yJXG4gICAgY29uc3Qgc29ydGVkTGF5ZXJzID0gWy4uLmxheWVyc10uc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpO1xuICAgIFxuICAgIGZvciAoY29uc3QgbGF5ZXIgb2Ygc29ydGVkTGF5ZXJzKSB7XG4gICAgICBpZiAoIWxheWVyLnZpc2libGUpIGNvbnRpbnVlO1xuXG4gICAgICAvLyDkvb/nlKjlm77lsYLoh6rouqvnmoTlrr3pq5jmr5RcbiAgICAgIGNvbnN0IGltYWdlUmF0aW8gPSBsYXllci53aWR0aCAvIGxheWVyLmhlaWdodDtcbiAgICAgIGxldCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0LCBpbWdYLCBpbWdZO1xuXG4gICAgICAvLyDorqHnrpflm77niYflrp7pmYXmmL7npLrlsLrlr7jlkozkvY3nva5cbiAgICAgIGlmIChpbWFnZVJhdGlvID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSBNYXRoLm1pbihjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpIC8gZHByO1xuICAgICAgICB0YXJnZXRXaWR0aCA9IHNpemU7XG4gICAgICAgIHRhcmdldEhlaWdodCA9IHNpemU7XG4gICAgICAgIGltZ1ggPSAoY2FudmFzLndpZHRoIC8gZHByIC0gc2l6ZSkgLyAyO1xuICAgICAgICBpbWdZID0gKGNhbnZhcy5oZWlnaHQgLyBkcHIgLSBzaXplKSAvIDI7XG4gICAgICB9IGVsc2UgaWYgKGltYWdlUmF0aW8gPiAxKSB7XG4gICAgICAgIHRhcmdldFdpZHRoID0gY2FudmFzLndpZHRoIC8gZHByO1xuICAgICAgICB0YXJnZXRIZWlnaHQgPSAoY2FudmFzLndpZHRoIC8gZHByKSAvIGltYWdlUmF0aW87XG4gICAgICAgIGltZ1ggPSAwO1xuICAgICAgICBpbWdZID0gKGNhbnZhcy5oZWlnaHQgLyBkcHIgLSB0YXJnZXRIZWlnaHQpIC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldEhlaWdodCA9IGNhbnZhcy5oZWlnaHQgLyBkcHI7XG4gICAgICAgIHRhcmdldFdpZHRoID0gKGNhbnZhcy5oZWlnaHQgLyBkcHIpICogaW1hZ2VSYXRpbztcbiAgICAgICAgaW1nWCA9IChjYW52YXMud2lkdGggLyBkcHIgLSB0YXJnZXRXaWR0aCkgLyAyO1xuICAgICAgICBpbWdZID0gMDtcbiAgICAgIH1cblxuICAgICAgLy8g5bqU55So5Zu+5bGC5Y+Y5o2iXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBsYXllclRyYW5zZm9ybXNbbGF5ZXIuaWRdIHx8IHsgcm90YXRpb246IDAsIHNjYWxlOiAxIH07XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGxheWVyUG9zaXRpb25zW2xheWVyLmlkXSB8fCB7IHg6IDAsIHk6IDAgfTtcblxuICAgICAgLy8g6K6h566X5Y+Y5o2i5ZCO55qE5Lit5b+D54K5XG4gICAgICBjb25zdCBjZW50ZXJYID0gaW1nWCArIHRhcmdldFdpZHRoIC8gMiArIHBvc2l0aW9uLng7XG4gICAgICBjb25zdCBjZW50ZXJZID0gaW1nWSArIHRhcmdldEhlaWdodCAvIDIgKyBwb3NpdGlvbi55O1xuXG4gICAgICAvLyDlsIbngrnlh7vlnZDmoIfovazmjaLliLDlm77lsYLlnZDmoIfns7tcbiAgICAgIGNvbnN0IGR4ID0geCAtIGNlbnRlclg7XG4gICAgICBjb25zdCBkeSA9IHkgLSBjZW50ZXJZO1xuXG4gICAgICAvLyDlupTnlKjml4vovazlj5jmjaLnmoTpgIblj5jmjaJcbiAgICAgIGNvbnN0IGFuZ2xlID0gLXRyYW5zZm9ybS5yb3RhdGlvbiAqIE1hdGguUEkgLyAxODA7XG4gICAgICBjb25zdCByb3RhdGVkWCA9IGR4ICogTWF0aC5jb3MoYW5nbGUpIC0gZHkgKiBNYXRoLnNpbihhbmdsZSk7XG4gICAgICBjb25zdCByb3RhdGVkWSA9IGR4ICogTWF0aC5zaW4oYW5nbGUpICsgZHkgKiBNYXRoLmNvcyhhbmdsZSk7XG5cbiAgICAgIC8vIOW6lOeUqOe8qeaUvuWPmOaNoueahOmAhuWPmOaNolxuICAgICAgY29uc3Qgc2NhbGVkWCA9IHJvdGF0ZWRYIC8gdHJhbnNmb3JtLnNjYWxlO1xuICAgICAgY29uc3Qgc2NhbGVkWSA9IHJvdGF0ZWRZIC8gdHJhbnNmb3JtLnNjYWxlO1xuXG4gICAgICAvLyDmo4Dmn6XngrnmmK/lkKblnKjlm77lsYLojIPlm7TlhoVcbiAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHRhcmdldFdpZHRoIC8gMjtcbiAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSB0YXJnZXRIZWlnaHQgLyAyO1xuICAgICAgXG4gICAgICBpZiAoc2NhbGVkWCA+PSAtaGFsZldpZHRoICYmIHNjYWxlZFggPD0gaGFsZldpZHRoICYmIFxuICAgICAgICAgIHNjYWxlZFkgPj0gLWhhbGZIZWlnaHQgJiYgc2NhbGVkWSA8PSBoYWxmSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBsYXllci5pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIFtsYXllcnMsIGxheWVyUG9zaXRpb25zLCBsYXllclRyYW5zZm9ybXNdKTtcblxuICAvLyDlpITnkIbnlLvluIPpvKDmoIfnprvlvIBcbiAgY29uc3QgaGFuZGxlQ2FudmFzTW91c2VMZWF2ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0RyYWdnaW5nSW1hZ2UoZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgLy8g5aSE55CG55S75biD6byg5qCH6L+b5YWlXG4gIGNvbnN0IGhhbmRsZUNhbnZhc01vdXNlRW50ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8g5aaC5p6c6ZyA6KaB5Zyo6byg5qCH6L+b5YWl5pe25omn6KGM5Lu75L2V5pON5L2c77yM5Y+v5Lul5Zyo6L+Z6YeM5re75YqgXG4gIH0sIFtdKTtcblxuICAvLyDliJvlu7rlm77lsYLpooTop4jlm75cbiAgY29uc3QgY3JlYXRlTGF5ZXJUaHVtYm5haWwgPSB1c2VDYWxsYmFjaygobGF5ZXIpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjYW52YXMud2lkdGggPSA0MDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gNDA7XG5cbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgaW1hZ2VSYXRpbyA9IGltZy53aWR0aCAvIGltZy5oZWlnaHQ7XG4gICAgICBsZXQgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCwgeCwgeTtcblxuICAgICAgaWYgKGltYWdlUmF0aW8gPT09IDEpIHtcbiAgICAgICAgdGFyZ2V0V2lkdGggPSB0YXJnZXRIZWlnaHQgPSA0MDtcbiAgICAgICAgeCA9IHkgPSAwO1xuICAgICAgfSBlbHNlIGlmIChpbWFnZVJhdGlvID4gMSkge1xuICAgICAgICB0YXJnZXRXaWR0aCA9IDQwO1xuICAgICAgICB0YXJnZXRIZWlnaHQgPSA0MCAvIGltYWdlUmF0aW87XG4gICAgICAgIHggPSAwO1xuICAgICAgICB5ID0gKDQwIC0gdGFyZ2V0SGVpZ2h0KSAvIDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRIZWlnaHQgPSA0MDtcbiAgICAgICAgdGFyZ2V0V2lkdGggPSA0MCAqIGltYWdlUmF0aW87XG4gICAgICAgIHggPSAoNDAgLSB0YXJnZXRXaWR0aCkgLyAyO1xuICAgICAgICB5ID0gMDtcbiAgICAgIH1cblxuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIHgsIHksIHRhcmdldFdpZHRoLCB0YXJnZXRIZWlnaHQpO1xuICAgIH07XG4gICAgaW1nLnNyYyA9IGxheWVyLnNyYztcbiAgICByZXR1cm4gY2FudmFzO1xuICB9LCBbXSk7XG5cbiAgLy8g5re75Yqg54K55Ye75aSW6YOo5YWz6Zet5Zu+5bGC6Z2i5p2/55qE5aSE55CG5Ye95pWwXG4gIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgaWYgKHNob3dMYXllcnMgJiYgIWUudGFyZ2V0LmNsb3Nlc3QoJy5sYXllcnMtcGFuZWwnKSAmJiAhZS50YXJnZXQuY2xvc2VzdCgnLmNhbnZhcy1sYXllcnMnKSkge1xuICAgICAgc2V0U2hvd0xheWVycyhmYWxzZSk7XG4gICAgfVxuICB9LCBbc2hvd0xheWVyc10pO1xuXG4gIC8vIOa3u+WKoOeCueWHu+WklumDqOWFs+mXreeahOS6i+S7tuebkeWQrFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfTtcbiAgfSwgW2hhbmRsZUNsaWNrT3V0c2lkZV0pO1xuXG4gIC8vIOWkhOeQhuWbvuWxguWIoOmZpFxuICBjb25zdCBoYW5kbGVEZWxldGVMYXllciA9IChsYXllcklkKSA9PiB7XG4gICAgc2V0TGF5ZXJzKHByZXZMYXllcnMgPT4gcHJldkxheWVycy5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIuaWQgIT09IGxheWVySWQpKTtcbiAgICBpZiAoc2VsZWN0ZWRMYXllciA9PT0gbGF5ZXJJZCkge1xuICAgICAgc2V0U2VsZWN0ZWRMYXllcihudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g5aSE55CG55S75biD5Yy65Z+f5aSW54K55Ye7XG4gIGNvbnN0IGhhbmRsZU91dHNpZGVDbGljayA9IChlKSA9PiB7XG4gICAgLy8g5aaC5p6c54K55Ye755qE5piv55S75biD5oiW6ICF5Zu+5bGC6Z2i5p2/5YaF55qE5YWD57SgLOS4jeWkhOeQhlxuICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZHJhdy1jYW52YXMnKSB8fCBcbiAgICAgICAgZS50YXJnZXQuY2xvc2VzdCgnLmxheWVycy1wYW5lbCcpIHx8IFxuICAgICAgICBlLnRhcmdldC5jbG9zZXN0KCcubGF5ZXJzLW1pbmknKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyDlj5bmtojpgInkuK3nirbmgIFcbiAgICBzZXRTZWxlY3RlZExheWVyKG51bGwpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8g5re75Yqg54K55Ye75LqL5Lu255uR5ZCsXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVPdXRzaWRlQ2xpY2spO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU91dHNpZGVDbGljayk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIOWkhOeQhui/lOWbnuaMiemSrueCueWHu1xuICBjb25zdCBoYW5kbGVCYWNrRWRpdCA9ICgpID0+IHtcbiAgICAvLyDnp7vpmaTnvJbovpHmqKHlvI/nm7jlhbPnirbmgIFcbiAgfTtcblxuICAvLyDlpITnkIblhbPpl63lvLnnqpdcbiAgY29uc3QgaGFuZGxlQ2xvc2VFZGl0TW9kYWwgPSAoKSA9PiB7XG4gICAgc2V0SXNFZGl0TW9kYWxPcGVuKGZhbHNlKTsgLy8g5YWz6Zet57yW6L6R5by556qXXG4gIH07XG5cbiAgLy8g5aSE55CG57yW6L6R5ZCO55qE5Zu+54mH5pu05pawXG4gIGNvbnN0IGhhbmRsZUltYWdlVXBkYXRlID0gKGVkaXRlZEltYWdlRGF0YSkgPT4ge1xuICAgIC8vIOenu+mZpOe8lui+keaooeW8j+ebuOWFs+eKtuaAgVxuICB9O1xuXG4gIC8vIOWkhOeQhueCueWHu+WSjOinpuaRuOS6i+S7tuS7peaJk+W8gEFJ6IKW5YOP5qih5oCB5qGGXG4gIGNvbnN0IGhhbmRsZUFJUG9ydHJhaXRDbGljayA9ICgpID0+IHtcbiAgICBzZXRTaG93QUlQb3J0cmFpdE1vZGFsKHRydWUpO1xuICB9O1xuXG4gIC8vIOWkhOeQhuenu+WKqOerr+inpuaRuOS6i+S7tlxuICBjb25zdCBoYW5kbGVBSVBvcnRyYWl0VG91Y2ggPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBoYW5kbGVBSVBvcnRyYWl0Q2xpY2soKTtcbiAgfTtcblxuICAvLyDojrflj5bnlLvluIPlm77niYfmlbDmja5cbiAgY29uc3QgZ2V0Q2FudmFzSW1hZ2UgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vojrflj5bnlLvluIPmlbDmja4uLi4nKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgICBpZiAoYmxvYikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+aIkOWKn+iOt+WPlueUu+W4g+aVsOaNru+8jOWkp+Wwj++8micsIGJsb2Iuc2l6ZSk7XG4gICAgICAgICAgICByZXNvbHZlKGJsb2IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCfml6Dms5Xojrflj5bnlLvluIPlm77niYfmlbDmja4nKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAnaW1hZ2UvcG5nJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bnlLvluIPmlbDmja7lpLHotKU6JywgZXJyb3IpO1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIOS4iuS8oOWbvueJh+WIsOacjeWKoeerryBBUElcbiAgY29uc3QgdXBsb2FkVG9DT1MgPSBhc3luYyAoaW1hZ2VCbG9iLCBzdHlsZUlkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vkuIrkvKDlm77niYfliLDmnI3liqHlmaguLi4nKTtcbiAgICAgIFxuICAgICAgLy8g6I635Y+W5b2T5YmN5pel5pyf5ZKM5pe26Ze0XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpO1xuICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcobm93LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgY29uc3QgZGF5ID0gU3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICBjb25zdCBob3VycyA9IFN0cmluZyhub3cuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcobm93LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgIGNvbnN0IHNlY29uZHMgPSBTdHJpbmcobm93LmdldFNlY29uZHMoKSArIDIpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICBcbiAgICAgIC8vIOaehOW7uuaXpeacn+ebruW9leWSjOaWh+S7tuWQjVxuICAgICAgY29uc3QgZGF0ZURpciA9IGAke3llYXJ9JHttb250aH0ke2RheX1gO1xuICAgICAgY29uc3QgdGltZXN0YW1wID0gYCR7eWVhcn0ke21vbnRofSR7ZGF5fSR7aG91cnN9JHttaW51dGVzfSR7c2Vjb25kc31gO1xuICAgICAgXG4gICAgICAvLyDliJvlu7ogRm9ybURhdGFcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBpbWFnZUJsb2IsICdpbWFnZS5wbmcnKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZGF0ZURpcicsIGRhdGVEaXIpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCd0aW1lc3RhbXAnLCB0aW1lc3RhbXApO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCdzdHlsZUlkJywgc3R5bGVJZCk7XG5cbiAgICAgIC8vIOWPkemAgeWIsOacjeWKoeerryBBUElcbiAgICAgIGNvbnNvbGUubG9nKCflj5HpgIHkuIrkvKDor7fmsYIuLi4nKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXBsb2FkJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+acjeWKoeWZqOi/lOWbnumUmeivrzonLCBlcnJvckRhdGEpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbHMgfHwgJ+S4iuS8oOWksei0pScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ+S4iuS8oOaIkOWKn++8jOaWh+S7tlVSTDonLCBkYXRhLnVybCk7XG4gICAgICByZXR1cm4geyB1cmw6IGRhdGEudXJsLCBmaWxlTmFtZTogZGF0YS5maWxlTmFtZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfkuIrkvKDov4fnqIvlh7rplJk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIC8vIOWkhOeQhue8lui+keaMiemSrueCueWHu1xuICBjb25zdCBoYW5kbGVFZGl0Q2xpY2sgPSAobW9kZSkgPT4ge1xuICAgIC8vIOenu+mZpOe8lui+keaooeW8j+ebuOWFs+eKtuaAgVxuICB9O1xuXG4gIC8vIOaWsOWinuWKn+iDveaMiemSruWkhOeQhuWHveaVsFxuICBjb25zdCBoYW5kbGVBSVBvcnRyYWl0ID0gKCkgPT4ge1xuICAgIHNldFNob3dBSVBvcnRyYWl0TW9kYWwodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3R5bGVPdmVybGF5ID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfpo47moLzlj6DliqAnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQcm9kdWN0U2VsZWN0ID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfllYblk4HpgInmi6knKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVPcmRlciA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn6K6i5Y2V5Y+R6LSnJyk7XG4gIH07XG5cbiAgLy8g5paw5aKe57yW6L6R5bel5YW35aSE55CG5Ye95pWwXG4gIGNvbnN0IGhhbmRsZU1hdHRpbmcgPSAoKSA9PiB7XG4gICAgLy8g56e76Zmk57yW6L6R5qih5byP55u45YWz54q25oCBXG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRW5oYW5jZSA9ICgpID0+IHtcbiAgICAvLyDnp7vpmaTnvJbovpHmqKHlvI/nm7jlhbPnirbmgIFcbiAgfTtcblxuICBjb25zdCBoYW5kbGVab29tID0gKCkgPT4ge1xuICAgIC8vIOenu+mZpOe8lui+keaooeW8j+ebuOWFs+eKtuaAgVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVJvdGF0ZSA9ICgpID0+IHtcbiAgICAvLyDnp7vpmaTnvJbovpHmqKHlvI/nm7jlhbPnirbmgIFcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChoYXNJbWFnZSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93QnV0dG9ucyh0cnVlKSwgMzAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd0J1dHRvbnMoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2hhc0ltYWdlXSk7XG5cbiAgLy8g5LiL6L2955S75biD5YaF5a65XG4gIGNvbnN0IFtpc0NsaWVudCwgc2V0SXNDbGllbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNDbGllbnQodHJ1ZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZENhbnZhcyA9ICgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuXG4gICAgLy8g6I635Y+W5b2T5YmN5pe26Ze05bm25qC85byP5YyWXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcobm93LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGNvbnN0IGRheSA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKG5vdy5nZXRIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcobm93LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCBzZWNvbmRzID0gU3RyaW5nKG5vdy5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgY29uc3QgdGltZXN0YW1wID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfWA7XG5cbiAgICAvLyDliJvlu7rkuIvovb3pk77mjqVcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuZG93bmxvYWQgPSBgWW5uQUktJHt0aW1lc3RhbXB9LnBuZ2A7XG4gICAgbGluay5ocmVmID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgbGluay5jbGljaygpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cImNhbnZhcy1jb250YWluZXJcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbnZhcy13cmFwcGVyXCI+XG4gICAgICAgICAgPGNhbnZhc1xuICAgICAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BkcmF3LWNhbnZhcyAke2lzRHJhZ2dpbmcgPyAnZHJhZ2dpbmcnIDogJyd9YH1cbiAgICAgICAgICAgIHdpZHRoPXtkaW1lbnNpb25zLndpZHRofVxuICAgICAgICAgICAgaGVpZ2h0PXtkaW1lbnNpb25zLmhlaWdodH1cbiAgICAgICAgICAgIG9uTW91c2VEb3duPXtoYW5kbGVDYW52YXNNb3VzZURvd259XG4gICAgICAgICAgICBvbk1vdXNlTW92ZT17aGFuZGxlQ2FudmFzTW91c2VNb3ZlfVxuICAgICAgICAgICAgb25Nb3VzZVVwPXtoYW5kbGVDYW52YXNNb3VzZVVwfVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVDYW52YXNNb3VzZUxlYXZlfVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtoYW5kbGVDYW52YXNNb3VzZUVudGVyfVxuICAgICAgICAgICAgb25Ub3VjaFN0YXJ0PXtoYW5kbGVDYW52YXNUb3VjaFN0YXJ0fVxuICAgICAgICAgICAgb25Ub3VjaE1vdmU9e2hhbmRsZUNhbnZhc1RvdWNoTW92ZX1cbiAgICAgICAgICAgIG9uVG91Y2hFbmQ9e2hhbmRsZUNhbnZhc1RvdWNoRW5kfVxuICAgICAgICAgICAgb25Ub3VjaENhbmNlbD17aGFuZGxlQ2FudmFzVG91Y2hFbmR9XG4gICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgY3Vyc29yOiBoYXNJbWFnZSA/ICdtb3ZlJyA6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xheWVycy5tYXAoKGxheWVyLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtsYXllci5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYW52YXMtbGF5ZXIgJHtzZWxlY3RlZExheWVyID09PSBsYXllci5pZCA/ICdzZWxlY3RlZCcgOiAnJ31gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgIGxlZnQ6IGxheWVyUG9zaXRpb25zW2xheWVyLmlkXT8ueCB8fCAwLFxuICAgICAgICAgICAgICAgICAgdG9wOiBsYXllclBvc2l0aW9uc1tsYXllci5pZF0/LnkgfHwgMCxcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGxheWVyLnZpc2libGUgPyAnYmxvY2snIDogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgekluZGV4OiBsYXllcnMubGVuZ3RoIC0gaW5kZXgsXG4gICAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgc3JjPXtsYXllci5zcmN9IFxuICAgICAgICAgICAgICAgICAgYWx0PXtg5Zu+5bGCICR7aW5kZXggKyAxfWB9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsYXllci1wcmV2aWV3XCIgXG4gICAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9jYW52YXM+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICByZWY9e2xheWVySW5wdXRSZWZ9XG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlTGF5ZXJGaWxlU2VsZWN0fVxuICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnbm9uZScgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiDlm77lsYLmjInpkq4gKi99XG4gICAgICAgICAge2hhc0ltYWdlICYmIChcbiAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvb2wtYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0xheWVycyghc2hvd0xheWVycyl9XG4gICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDIgfX1cbiAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOTggfX1cbiAgICAgICAgICAgICAgdGl0bGU9XCLlm77lsYLnrqHnkIZcIlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIHRvcDogJzEuMnJlbScsXG4gICAgICAgICAgICAgICAgbGVmdDogJzEuMnJlbScsXG4gICAgICAgICAgICAgICAgekluZGV4OiA1MCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMC41cmVtJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpJyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgMnB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMDgpJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogJ2JsdXIoOHB4KScsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMxYTFhMWEnLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJ1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImJ1dHRvbi1pY29uXCIgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk00IDZoMTZNNCAxMmgxNk00IDE4aDE2XCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyXCIgY3k9XCI2XCIgcj1cIjFcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIyXCIgY3k9XCIxMlwiIHI9XCIxXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz5cbiAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMlwiIGN5PVwiMThcIiByPVwiMVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3Nob3dFZGl0SGludCAmJiBoYXNJbWFnZSAmJiAoXG4gICAgICAgICAgICA8RWRpdEhpbnQgXG4gICAgICAgICAgICAgIG9uSGludENsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0U2hvd0VkaXRIaW50KGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRMYXllcikge1xuICAgICAgICAgICAgICAgICAgc2V0RWRpdE1vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nTGF5ZXIoc2VsZWN0ZWRMYXllcik7XG4gICAgICAgICAgICAgICAgICBzZXRJc0VkaXRNb2RhbE9wZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHsvKiDlm77lsYLpnaLmnb8gKi99XG4gICAgICAgICAge2hhc0ltYWdlICYmIHNob3dMYXllcnMgJiYgKFxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGF5ZXJzLXBhbmVsXCJcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45NSwgeDogLTIwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEsIHg6IDAgfX1cbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgdG9wOiAnMy41cmVtJyxcbiAgICAgICAgICAgICAgICBsZWZ0OiAnMS4ycmVtJyxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDQ5XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGF5ZXJzLWxpc3RcIj5cbiAgICAgICAgICAgICAgICB7bGF5ZXJzLm1hcCgobGF5ZXIsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2xheWVyLmlkfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXllci1pdGVtICR7bGF5ZXIudmlzaWJsZSA/ICd2aXNpYmxlJyA6ICcnfSAke3NlbGVjdGVkTGF5ZXIgPT09IGxheWVyLmlkID8gJ3NlbGVjdGVkJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeDogLTEwIH19XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeDogMCB9fVxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjIsIGRlbGF5OiBpbmRleCAqIDAuMDUgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXllci1wcmV2aWV3LWNvbnRhaW5lciAke3NlbGVjdGVkTGF5ZXIgPT09IGxheWVyLmlkID8gJ3NlbGVjdGVkJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGhhbmRsZUxheWVyU2VsZWN0KGxheWVyLmlkLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2xheWVyLnNyY30gXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2Dlm77lsYIgJHtpbmRleCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxheWVyLXByZXZpZXdcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsYXllci1pbmRleFwiPntpbmRleCArIDF9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGF5ZXItY29udHJvbHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXllci12aXNpYmlsaXR5ICR7bGF5ZXIudmlzaWJsZSA/ICd2aXNpYmxlJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVMYXllclZpc2liaWxpdHkobGF5ZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsYXllci52aXNpYmxlID8gXCLpmpDol4/lm77lsYJcIiA6IFwi5pi+56S65Zu+5bGCXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiYnV0dG9uLWljb25cIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yIDEyczQtNSAxMC01IDEwIDUgMTAgNS00IDUtMTAgNS0xMC01LTEwLTV6XCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjNcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsYXllci1tb3ZlLWJ0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVNb3ZlVXAoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpbmRleCA9PT0gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwi5LiK56e75Zu+5bGCXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJidXR0b24taWNvblwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE3IDhsLTUtNS01IDVcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyIDE2VjRcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsYXllci1tb3ZlLWJ0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVNb3ZlRG93bihpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2luZGV4ID09PSBsYXllcnMubGVuZ3RoIC0gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwi5LiL56e75Zu+5bGCXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJidXR0b24taWNvblwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE3IDE2bC01IDUtNS01XCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMiA4djEyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGF5ZXItZGVsZXRlLWJ0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGVMYXllcihsYXllci5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCLliKDpmaTlm77lsYJcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImJ1dHRvbi1pY29uXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTggNkw2IDE4XCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYgNmwxMiAxMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge2xheWVycy5sZW5ndGggPCA1ICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxheWVycy1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxheWVyLWFkZC1idG5cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMYXllclVwbG9hZH1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wMiB9fVxuICAgICAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45OCB9fVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIua3u+WKoOWbvuWxglwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImJ1dHRvbi1pY29uXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyIDh2OFwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTggMTJoOFwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7aXNDbGllbnQgJiYgKFxuICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRG93bmxvYWRDYW52YXN9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvb2wtYnV0dG9uXCJcbiAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wMiB9fVxuICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45OCB9fVxuICAgICAgICAgICAgICB0aXRsZT1cIuS4i+i9veeUu+W4g1wiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgdG9wOiAnMS4ycmVtJyxcbiAgICAgICAgICAgICAgICByaWdodDogJzEuMnJlbScsXG4gICAgICAgICAgICAgICAgekluZGV4OiA1MCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMC41cmVtJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpJyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgMnB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMDgpJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogJ2JsdXIoOHB4KScsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMxYTFhMWEnLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJ1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImJ1dHRvbi1pY29uXCIgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00XCIgLz5cbiAgICAgICAgICAgICAgICA8cG9seWxpbmUgcG9pbnRzPVwiNyAxMCAxMiAxNSAxNyAxMFwiIC8+XG4gICAgICAgICAgICAgICAgPGxpbmUgeDE9XCIxMlwiIHkxPVwiMTVcIiB4Mj1cIjEyXCIgeTI9XCIzXCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICBcbiAgICAgICAgICA8bW90aW9uLmRpdiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGNhbnZhcy1idXR0b25zICR7c2hvd0J1dHRvbnMgPyAndmlzaWJsZScgOiAnJ31gfVxuICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCB9fVxuICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjUsIGRlbGF5OiAwLjIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aGFzSW1hZ2UgJiYgKFxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFyY2hpdmUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBcmNoaXZlfVxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDUgfX1cbiAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45NSB9fVxuICAgICAgICAgICAgICAgIHRpdGxlPVwi5a2Y5qGj5LuT5bqTXCJcbiAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHg6IC0yMCB9fVxuICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeDogMCB9fVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMyB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiYnV0dG9uLWljb25cIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjEgOHYxM0gzTDMgOFwiIC8+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEgM2gyMnY1SDF6XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTAgMTJoNFwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHshaGFzSW1hZ2UgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5pdGlhbC1idXR0b25zXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fVxuICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnbm9uZScgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtYnV0dG9uIHVwbG9hZFwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVVcGxvYWR9XG4gICAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjA1IH19XG4gICAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45NSB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImJ1dHRvbi1pY29uXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxwb2x5bGluZSBwb2ludHM9XCIxNyA4IDEyIDMgNyA4XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGxpbmUgeDE9XCIxMlwiIHkxPVwiM1wiIHgyPVwiMTJcIiB5Mj1cIjE1XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAg5LiK5Lyg5Zu+54mHXG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtYnV0dG9uIGFyY2hpdmVcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQXJjaGl2ZX1cbiAgICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDUgfX1cbiAgICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiYnV0dG9uLWljb25cIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yMSA4djEzSDNMMyA4XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xIDNoMjJ2NUgxelwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTAgMTJoNFwiIC8+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIOWtmOaho+S7k+W6k1xuICAgICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZ1bmN0aW9uLWJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FudmFzLWJ1dHRvbiBzbWFydC1wb3J0cmFpdFwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBSVBvcnRyYWl0Q2xpY2t9XG4gICAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ9e2hhbmRsZUFJUG9ydHJhaXRUb3VjaH1cbiAgICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDUgfX1cbiAgICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiYnV0dG9uLWljb25cIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMiAyMmM1LjUyMyAwIDEwLTQuNDc3IDEwLTEwUzE3LjUyMyAyIDEyIDIgMiA2LjQ3NyAyIDEyczQuNDc3IDEwIDEwIDEwelwiLz5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMiA2djEyXCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYgMTJoMTJcIi8+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIOaZuuiDveeUu+WDj1xuICAgICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FudmFzLWJ1dHRvbiBzdHlsZVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdHlsZU92ZXJsYXl9XG4gICAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjA1IH19XG4gICAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45NSB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImJ1dHRvbi1pY29uXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMiAyaDIwdjIwSDJ6XCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTcgN2gxMHYxMEg3elwiLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAg6aOO5qC85Y+g5YqgXG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtYnV0dG9uIHByb2R1Y3RcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUHJvZHVjdFNlbGVjdH1cbiAgICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDUgfX1cbiAgICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiYnV0dG9uLWljb25cIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yMSA4bC0zLTZINkwzIDh2MTJoMThWOHpcIi8+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyA4aDE4XCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE1IDhhMyAzIDAgMCAwLTYgMFwiLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAg5ZWG5ZOB6YCJ5oupXG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtYnV0dG9uIG9yZGVyXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU9yZGVyfVxuICAgICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wNSB9fVxuICAgICAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOTUgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJidXR0b24taWNvblwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTUgMTJoMTRcIi8+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTIgNWw3IDctNyA3XCIvPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICDorqLljZXlj5HotKdcbiAgICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxBSVBvcnRyYWl0TW9kYWxcbiAgICAgICAgICBpc09wZW49e3Nob3dBSVBvcnRyYWl0TW9kYWx9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd0FJUG9ydHJhaXRNb2RhbChmYWxzZSl9XG4gICAgICAgICAgb25TZWxlY3Q9e2hhbmRsZVBvcnRyYWl0U3R5bGVTZWxlY3R9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPEFyY2hpdmVNb2RhbFxuICAgICAgICAgIGlzT3Blbj17c2hvd0FyY2hpdmVNb2RhbH1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93QXJjaGl2ZU1vZGFsKGZhbHNlKX1cbiAgICAgICAgLz5cblxuICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgIHtlZGl0TW9kZSAmJiBlZGl0aW5nTGF5ZXIgJiYgKFxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiA1MCB9fVxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCB5OiA1MCB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjMgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEltYWdlRWRpdG9yXG4gICAgICAgICAgICAgICAgbGF5ZXI9e2xheWVycy5maW5kKGwgPT4gbC5pZCA9PT0gZWRpdGluZ0xheWVyKX1cbiAgICAgICAgICAgICAgICBvblRyYW5zZm9ybUNoYW5nZT17aGFuZGxlVHJhbnNmb3JtQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uQ29uZmlybT17aGFuZGxlQ29uZmlybUVkaXR9XG4gICAgICAgICAgICAgICAgb25DYW5jZWw9e2hhbmRsZUNhbmNlbEVkaXR9XG4gICAgICAgICAgICAgICAgb25Sb3RhdGlvbkNoYW5nZT17aGFuZGxlUm90YXRpb25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25TY2FsZUNoYW5nZT17aGFuZGxlU2NhbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFRyYW5zZm9ybT17e1xuICAgICAgICAgICAgICAgICAgcm90YXRlOiBsYXllclRyYW5zZm9ybXNbZWRpdGluZ0xheWVyXT8ucm90YXRpb24gfHwgMCxcbiAgICAgICAgICAgICAgICAgIHNjYWxlOiBsYXllclRyYW5zZm9ybXNbZWRpdGluZ0xheWVyXT8uc2NhbGUgfHwgMSxcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6IGxheWVyUG9zaXRpb25zW2VkaXRpbmdMYXllcl0/LnggfHwgMCxcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IGxheWVyUG9zaXRpb25zW2VkaXRpbmdMYXllcl0/LnkgfHwgMFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIHtpc0VkaXRNb2RhbE9wZW4gJiYgKFxuICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0LW1vZGFsLW92ZXJsYXlcIlxuICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbG9zZUVkaXRNb2RhbH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJtb3Rpb24iLCJBbmltYXRlUHJlc2VuY2UiLCJMYXlvdXQiLCJBSVBvcnRyYWl0TW9kYWwiLCJBcmNoaXZlTW9kYWwiLCJJbWFnZUVkaXRvciIsIlNsb3RTZWxlY3RvciIsIkVkaXRIaW50IiwiRHJhdyIsImxheWVyVHJhbnNmb3JtcyIsImxheWVyUG9zaXRpb25zIiwiY2FudmFzUmVmIiwiZmlsZUlucHV0UmVmIiwiZGltZW5zaW9ucyIsInNldERpbWVuc2lvbnMiLCJ3aWR0aCIsImhlaWdodCIsImhhc0ltYWdlIiwic2V0SGFzSW1hZ2UiLCJpc0RyYWdnaW5nIiwic2V0SXNEcmFnZ2luZyIsImxheWVycyIsInNldExheWVycyIsInNob3dMYXllcnMiLCJzZXRTaG93TGF5ZXJzIiwibGF5ZXJJbnB1dFJlZiIsInNlbGVjdGVkTGF5ZXIiLCJzZXRTZWxlY3RlZExheWVyIiwic2V0TGF5ZXJQb3NpdGlvbnMiLCJpc0RyYWdnaW5nSW1hZ2UiLCJzZXRJc0RyYWdnaW5nSW1hZ2UiLCJkcmFnU3RhcnQiLCJzZXREcmFnU3RhcnQiLCJ4IiwieSIsImltYWdlQ2FjaGUiLCJzZXRJbWFnZUNhY2hlIiwib2Zmc2NyZWVuQ2FudmFzUmVmIiwic2hvd0FJUG9ydHJhaXRNb2RhbCIsInNldFNob3dBSVBvcnRyYWl0TW9kYWwiLCJzaG93QXJjaGl2ZU1vZGFsIiwic2V0U2hvd0FyY2hpdmVNb2RhbCIsInNob3dCdXR0b25zIiwic2V0U2hvd0J1dHRvbnMiLCJzaG93RWRpdEhpbnQiLCJzZXRTaG93RWRpdEhpbnQiLCJlZGl0TW9kZSIsInNldEVkaXRNb2RlIiwiZWRpdGluZ0xheWVyIiwic2V0RWRpdGluZ0xheWVyIiwic2V0TGF5ZXJUcmFuc2Zvcm1zIiwiaXNFZGl0TW9kYWxPcGVuIiwic2V0SXNFZGl0TW9kYWxPcGVuIiwiY2FsY3VsYXRlRGltZW5zaW9ucyIsInBhZGRpbmciLCJidXR0b25BcmVhSGVpZ2h0IiwidG9wT2Zmc2V0IiwibWF4V2lkdGgiLCJNYXRoIiwibWluIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImFzcGVjdFJhdGlvIiwibWF4SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJhZGp1c3RlZEhlaWdodCIsImFkanVzdGVkV2lkdGgiLCJhZGRFdmVudExpc3RlbmVyIiwiY29uc29sZSIsImxvZyIsInNsb3RTZWxlY3RvciIsImdldEluc3RhbmNlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImN1cnJlbnQiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHByIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInN0eWxlIiwic2NhbGUiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJpbWFnZVNtb290aGluZ1F1YWxpdHkiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImhhbmRsZURyYWdPdmVyIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlRHJhZ0xlYXZlIiwiaGFuZGxlRHJvcCIsImZpbGUiLCJkYXRhVHJhbnNmZXIiLCJmaWxlcyIsImhhbmRsZUZpbGUiLCJ0eXBlIiwic3RhcnRzV2l0aCIsImFsZXJ0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImltZyIsIkltYWdlIiwiY2FudmFzUmF0aW8iLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImltYWdlUmF0aW8iLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsInNpemUiLCJkcmF3SW1hZ2UiLCJuZXdMYXllciIsImlkIiwiRGF0ZSIsIm5vdyIsIm5hbWUiLCJzcmMiLCJ0YXJnZXQiLCJyZXN1bHQiLCJ2aXNpYmxlIiwib3JkZXIiLCJwcmV2TGF5ZXJzIiwidXBkYXRlZExheWVycyIsIm1hcCIsImxheWVyIiwicHJldiIsInJlYWRBc0RhdGFVUkwiLCJoYW5kbGVVcGxvYWQiLCJjbGljayIsImhhbmRsZUZpbGVTZWxlY3QiLCJldmVudCIsImhhbmRsZVBvcnRyYWl0U3R5bGVTZWxlY3QiLCJzdHlsZUlkIiwiaW1hZ2VCbG9iIiwiZ2V0Q2FudmFzSW1hZ2UiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsIlN0cmluZyIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwic2Vjb25kcyIsImdldFNlY29uZHMiLCJkYXRlRGlyIiwidGltZXN0YW1wIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5Iiwib2siLCJFcnJvciIsInVybCIsImpzb24iLCJmaWxlTmFtZSIsInNsb3RJZCIsInNsb3REYXRhIiwic2V0U2xvdE5hbWVBbmRBY3RpdmF0ZSIsIndhcm4iLCJlcnJvciIsImhhbmRsZURvd25sb2FkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRvd25sb2FkIiwiaHJlZiIsInRvRGF0YVVSTCIsImhhbmRsZUFyY2hpdmUiLCJoYW5kbGVMYXllclVwbG9hZCIsImhhbmRsZUxheWVyRmlsZVNlbGVjdCIsImhhbmRsZUxheWVyRmlsZSIsImxlbmd0aCIsImhhbmRsZU1vdmVVcCIsImluZGV4IiwibmV3TGF5ZXJzIiwiY3VycmVudExheWVyIiwidXBwZXJMYXllciIsInRlbXBPcmRlciIsInNvcnQiLCJhIiwiYiIsImhhbmRsZU1vdmVEb3duIiwibG93ZXJMYXllciIsImhhbmRsZUxheWVyVmlzaWJpbGl0eSIsImxheWVySWQiLCJoYW5kbGVMYXllclNlbGVjdCIsImhhbmRsZUVkaXRMYXllciIsImN1cnJlbnRUcmFuc2Zvcm0iLCJyb3RhdGlvbiIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwicHJldmlvdXNTdGF0ZSIsImhhbmRsZUVkaXRDb21wbGV0ZSIsInNhdmUiLCJoYW5kbGVSb3RhdGlvbkNoYW5nZSIsImhhbmRsZVNjYWxlQ2hhbmdlIiwiaGFuZGxlVHJhbnNmb3JtQ2hhbmdlIiwidmFsdWUiLCJoYW5kbGVDb25maXJtRWRpdCIsInRyYW5zZm9ybSIsInVwZGF0ZUNhbnZhcyIsInJvdGF0ZSIsInVuZGVmaW5lZCIsImhhbmRsZUNhbmNlbEVkaXQiLCJvcmlnaW5hbFRyYW5zZm9ybSIsIm9yaWdpbmFsUG9zaXRpb24iLCJzb3J0ZWRMYXllcnMiLCJmb3JFYWNoIiwicG9zaXRpb24iLCJ0cmFuc2xhdGUiLCJQSSIsInJlc3RvcmUiLCJtb3ZlRGlzdGFuY2UiLCJzZXRNb3ZlRGlzdGFuY2UiLCJpbml0aWFsUG9zaXRpb24iLCJzZXRJbml0aWFsUG9zaXRpb24iLCJtb3ZlVGhyZXNob2xkIiwiaGFuZGxlQ2FudmFzTW91c2VEb3duIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsImNsaWNrZWRMYXllcklkIiwiZ2V0Q2xpY2tlZExheWVyIiwiaGFuZGxlQ2FudmFzTW91c2VNb3ZlIiwiZHgiLCJkeSIsImRpc3RhbmNlIiwic3FydCIsImRlbHRhWCIsImRlbHRhWSIsImhhbmRsZUNhbnZhc01vdXNlVXAiLCJoYW5kbGVDYW52YXNUb3VjaFN0YXJ0IiwidG91Y2giLCJ0b3VjaGVzIiwiaGFuZGxlQ2FudmFzVG91Y2hNb3ZlIiwiaGFuZGxlQ2FudmFzVG91Y2hFbmQiLCJtb3ZlTGF5ZXIiLCJjYWNoZUltYWdlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvZmZzY3JlZW4iLCJpc1BvaW50SW5JbWFnZSIsImltYWdlSW5mbyIsImltZ1giLCJpbWdZIiwiY2VudGVyWCIsImNlbnRlclkiLCJhbmdsZSIsInJvdGF0ZWRYIiwiY29zIiwic2luIiwicm90YXRlZFkiLCJzY2FsZWRYIiwic2NhbGVkWSIsImhhbGZXaWR0aCIsImhhbGZIZWlnaHQiLCJoYW5kbGVDYW52YXNNb3VzZUxlYXZlIiwiaGFuZGxlQ2FudmFzTW91c2VFbnRlciIsImNyZWF0ZUxheWVyVGh1bWJuYWlsIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiY2xvc2VzdCIsImhhbmRsZURlbGV0ZUxheWVyIiwiZmlsdGVyIiwiaGFuZGxlT3V0c2lkZUNsaWNrIiwiaGFuZGxlQmFja0VkaXQiLCJoYW5kbGVDbG9zZUVkaXRNb2RhbCIsImhhbmRsZUltYWdlVXBkYXRlIiwiZWRpdGVkSW1hZ2VEYXRhIiwiaGFuZGxlQUlQb3J0cmFpdENsaWNrIiwiaGFuZGxlQUlQb3J0cmFpdFRvdWNoIiwicmVqZWN0IiwidG9CbG9iIiwiYmxvYiIsInVwbG9hZFRvQ09TIiwiZXJyb3JEYXRhIiwiZGV0YWlscyIsImRhdGEiLCJoYW5kbGVFZGl0Q2xpY2siLCJtb2RlIiwiaGFuZGxlQUlQb3J0cmFpdCIsImhhbmRsZVN0eWxlT3ZlcmxheSIsImhhbmRsZVByb2R1Y3RTZWxlY3QiLCJoYW5kbGVPcmRlciIsImhhbmRsZU1hdHRpbmciLCJoYW5kbGVFbmhhbmNlIiwiaGFuZGxlWm9vbSIsImhhbmRsZVJvdGF0ZSIsInNldFRpbWVvdXQiLCJpc0NsaWVudCIsInNldElzQ2xpZW50IiwiaGFuZGxlRG93bmxvYWRDYW52YXMiLCJkaXYiLCJjbGFzc05hbWUiLCJvdmVyZmxvdyIsInJlZiIsIm9uTW91c2VEb3duIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTGVhdmUiLCJvbk1vdXNlRW50ZXIiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJvblRvdWNoQ2FuY2VsIiwiY3Vyc29yIiwiZGlzcGxheSIsInpJbmRleCIsInBvaW50ZXJFdmVudHMiLCJhbHQiLCJkcmFnZ2FibGUiLCJpbnB1dCIsIm9uQ2hhbmdlIiwiYWNjZXB0IiwiYnV0dG9uIiwib25DbGljayIsIndoaWxlSG92ZXIiLCJ3aGlsZVRhcCIsInRpdGxlIiwiYmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsImJvcmRlciIsImJhY2tkcm9wRmlsdGVyIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiY29sb3IiLCJ0cmFuc2l0aW9uIiwic3ZnIiwidmlld0JveCIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInBhdGgiLCJkIiwic3Ryb2tlTGluZWNhcCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwib25IaW50Q2xpY2siLCJpbml0aWFsIiwib3BhY2l0eSIsImFuaW1hdGUiLCJkdXJhdGlvbiIsImRlbGF5Iiwic3BhbiIsInhtbG5zIiwiZGlzYWJsZWQiLCJzdHJva2VMaW5lam9pbiIsInJpZ2h0IiwicG9seWxpbmUiLCJwb2ludHMiLCJsaW5lIiwieDEiLCJ5MSIsIngyIiwieTIiLCJpc09wZW4iLCJvbkNsb3NlIiwib25TZWxlY3QiLCJleGl0IiwiZmluZCIsImwiLCJvblRyYW5zZm9ybUNoYW5nZSIsIm9uQ29uZmlybSIsIm9uQ2FuY2VsIiwib25Sb3RhdGlvbkNoYW5nZSIsIm9uU2NhbGVDaGFuZ2UiLCJpbml0aWFsVHJhbnNmb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/draw.js\n"));

/***/ })

});