"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/image/matting";
exports.ids = ["pages/api/image/matting"];
exports.modules = {

/***/ "cos-nodejs-sdk-v5":
/*!************************************!*\
  !*** external "cos-nodejs-sdk-v5" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("cos-nodejs-sdk-v5");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimage%2Fmatting&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cimage%5Cmatting.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimage%2Fmatting&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cimage%5Cmatting.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_image_matting_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\image\\matting.js */ \"(api)/./pages/api/image/matting.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_image_matting_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_image_matting_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/image/matting\",\n        pathname: \"/api/image/matting\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_image_matting_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmltYWdlJTJGbWF0dGluZyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDaW1hZ2UlNUNtYXR0aW5nLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzREO0FBQzVEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktaW1hZ2UtdG9vbC8/M2I2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGltYWdlXFxcXG1hdHRpbmcuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pbWFnZS9tYXR0aW5nXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaW1hZ2UvbWF0dGluZ1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimage%2Fmatting&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cimage%5Cmatting.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/image/matting.js":
/*!************************************!*\
  !*** ./pages/api/image/matting.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var cos_nodejs_sdk_v5__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cos-nodejs-sdk-v5 */ \"cos-nodejs-sdk-v5\");\n/* harmony import */ var cos_nodejs_sdk_v5__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cos_nodejs_sdk_v5__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_api_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/api/logger */ \"(api)/./utils/api/logger.js\");\n\n\n// 初始化 COS 实例\nconst cos = new (cos_nodejs_sdk_v5__WEBPACK_IMPORTED_MODULE_0___default())({\n    SecretId: process.env.TENCENT_CLOUD_SECRET_ID,\n    SecretKey: process.env.TENCENT_CLOUD_SECRET_KEY\n});\n// 添加一个验证函数检查图片是否成功上传\nasync function verifyUpload(params) {\n    const logger = _utils_api_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forRequest();\n    return new Promise((resolve, reject)=>{\n        cos.headObject({\n            Bucket: params.Bucket,\n            Region: params.Region,\n            Key: params.Key\n        }, (err, data)=>{\n            if (err) {\n                logger.error(\"验证上传失败\", {\n                    error: err,\n                    params: params\n                });\n                reject(err);\n                return;\n            }\n            logger.info(\"验证上传成功\", {\n                key: params.Key,\n                contentLength: data.headers[\"content-length\"],\n                contentType: data.headers[\"content-type\"]\n            });\n            resolve(data);\n        });\n    });\n}\nasync function handler(req, res) {\n    const logger = _utils_api_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forRequest();\n    try {\n        if (req.method !== \"POST\") {\n            throw new Error(\"Method not allowed\");\n        }\n        const { image_base64 } = req.body;\n        if (!image_base64) {\n            throw new Error(\"Missing image data\");\n        }\n        // 记录上传开始\n        logger.info(\"开始上传图片\", {\n            timestamp: new Date().toISOString()\n        });\n        const timestamp = Date.now();\n        const originalKey = `original_${timestamp}.jpg`;\n        const processedKey = `matting_${timestamp}.png`;\n        const uploadParams = {\n            Bucket: process.env.TENCENT_CLOUD_BUCKET,\n            Region: process.env.TENCENT_CLOUD_REGION,\n            Key: originalKey,\n            Body: Buffer.from(image_base64, \"base64\"),\n            Headers: {\n                \"Pic-Operations\": JSON.stringify({\n                    is_pic_info: 1,\n                    rules: [\n                        {\n                            fileid: processedKey,\n                            rule: \"ci-process=AIPicMatting\"\n                        }\n                    ]\n                })\n            }\n        };\n        // 记录上传参数（排除敏感信息）\n        logger.info(\"上传参数\", {\n            bucket: uploadParams.Bucket,\n            region: uploadParams.Region,\n            key: uploadParams.Key,\n            bodySize: uploadParams.Body.length,\n            timestamp: new Date().toISOString()\n        });\n        // 执行上传\n        const result = await new Promise((resolve, reject)=>{\n            cos.putObject(uploadParams, (err, data)=>{\n                if (err) {\n                    logger.error(\"上传失败\", {\n                        error: err,\n                        timestamp: new Date().toISOString()\n                    });\n                    reject(err);\n                    return;\n                }\n                logger.info(\"上传成功\", {\n                    data: data,\n                    timestamp: new Date().toISOString()\n                });\n                resolve(data);\n            });\n        });\n        // 验证上传结果\n        try {\n            await verifyUpload(uploadParams);\n        } catch (verifyErr) {\n            logger.error(\"上传验证失败\", {\n                error: verifyErr,\n                timestamp: new Date().toISOString()\n            });\n            throw verifyErr;\n        }\n        // 构建返回URL\n        const processedImageUrl = `https://${process.env.TENCENT_CLOUD_BUCKET_DOMAIN}/${processedKey}`;\n        // 获取处理后的图片数据\n        const processedImageData = await new Promise((resolve, reject)=>{\n            cos.getObject({\n                Bucket: process.env.TENCENT_CLOUD_BUCKET,\n                Region: process.env.TENCENT_CLOUD_REGION,\n                Key: processedKey\n            }, (err, data)=>{\n                if (err) {\n                    logger.error(\"获取处理后图片失败\", {\n                        error: err,\n                        timestamp: new Date().toISOString()\n                    });\n                    reject(err);\n                    return;\n                }\n                // 将图片数据转换为 base64\n                const base64Data = data.Body.toString(\"base64\");\n                resolve(base64Data);\n            });\n        });\n        // 记录完整处理结果\n        logger.info(\"处理完成\", {\n            originalKey,\n            processedKey,\n            processedImageUrl,\n            result,\n            timestamp: new Date().toISOString()\n        });\n        return res.status(200).json({\n            success: true,\n            data: {\n                foreground_image: `data:image/png;base64,${processedImageData}`\n            },\n            message: \"抠图处理成功\"\n        });\n    } catch (err) {\n        logger.error(\"请求失败\", {\n            error: {\n                message: err.message,\n                stack: err.stack\n            },\n            timestamp: new Date().toISOString()\n        });\n        return res.status(500).json({\n            success: false,\n            message: err.message || \"处理失败\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkMsU0FBUztZQUNUaEQsTUFBTTtnQkFDSmlELGtCQUFrQixDQUFDLHNCQUFzQixFQUFFUCxtQkFBbUIsQ0FBQztZQUNqRTtZQUNBUSxTQUFTO1FBQ1g7SUFFRixFQUFFLE9BQU9uRCxLQUFLO1FBQ1pULE9BQU9XLEtBQUssQ0FBQyxRQUFRO1lBQ25CQSxPQUFPO2dCQUNMaUQsU0FBU25ELElBQUltRCxPQUFPO2dCQUNwQkMsT0FBT3BELElBQUlvRCxLQUFLO1lBQ2xCO1lBQ0FyQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7UUFDbkM7UUFFQSxPQUFPUCxJQUFJcUMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNURSxTQUFTbkQsSUFBSW1ELE9BQU8sSUFBSTtRQUMxQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1pbWFnZS10b29sLy4vcGFnZXMvYXBpL2ltYWdlL21hdHRpbmcuanM/YWRmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ09TIGZyb20gJ2Nvcy1ub2RlanMtc2RrLXY1JztcclxuaW1wb3J0IExvZ2dlciBmcm9tICdAL3V0aWxzL2FwaS9sb2dnZXInO1xyXG5cclxuLy8g5Yid5aeL5YyWIENPUyDlrp7kvotcclxuY29uc3QgY29zID0gbmV3IENPUyh7XHJcbiAgU2VjcmV0SWQ6IHByb2Nlc3MuZW52LlRFTkNFTlRfQ0xPVURfU0VDUkVUX0lELFxyXG4gIFNlY3JldEtleTogcHJvY2Vzcy5lbnYuVEVOQ0VOVF9DTE9VRF9TRUNSRVRfS0VZXHJcbn0pO1xyXG5cclxuLy8g5re75Yqg5LiA5Liq6aqM6K+B5Ye95pWw5qOA5p+l5Zu+54mH5piv5ZCm5oiQ5Yqf5LiK5LygXHJcbmFzeW5jIGZ1bmN0aW9uIHZlcmlmeVVwbG9hZChwYXJhbXMpIHtcclxuICBjb25zdCBsb2dnZXIgPSBMb2dnZXIuZm9yUmVxdWVzdCgpO1xyXG4gIFxyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb3MuaGVhZE9iamVjdCh7XHJcbiAgICAgIEJ1Y2tldDogcGFyYW1zLkJ1Y2tldCxcclxuICAgICAgUmVnaW9uOiBwYXJhbXMuUmVnaW9uLFxyXG4gICAgICBLZXk6IHBhcmFtcy5LZXlcclxuICAgIH0sIChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgaWYgKGVycikge1xyXG4gICAgICAgIGxvZ2dlci5lcnJvcign6aqM6K+B5LiK5Lyg5aSx6LSlJywge1xyXG4gICAgICAgICAgZXJyb3I6IGVycixcclxuICAgICAgICAgIHBhcmFtczogcGFyYW1zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBsb2dnZXIuaW5mbygn6aqM6K+B5LiK5Lyg5oiQ5YqfJywge1xyXG4gICAgICAgIGtleTogcGFyYW1zLktleSxcclxuICAgICAgICBjb250ZW50TGVuZ3RoOiBkYXRhLmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10sXHJcbiAgICAgICAgY29udGVudFR5cGU6IGRhdGEuaGVhZGVyc1snY29udGVudC10eXBlJ11cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICByZXNvbHZlKGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBjb25zdCBsb2dnZXIgPSBMb2dnZXIuZm9yUmVxdWVzdCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBhbGxvd2VkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBpbWFnZV9iYXNlNjQgfSA9IHJlcS5ib2R5O1xyXG4gICAgXHJcbiAgICBpZiAoIWltYWdlX2Jhc2U2NCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgaW1hZ2UgZGF0YScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOiusOW9leS4iuS8oOW8gOWni1xyXG4gICAgbG9nZ2VyLmluZm8oJ+W8gOWni+S4iuS8oOWbvueJhycsIHtcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBvcmlnaW5hbEtleSA9IGBvcmlnaW5hbF8ke3RpbWVzdGFtcH0uanBnYDtcclxuICAgIGNvbnN0IHByb2Nlc3NlZEtleSA9IGBtYXR0aW5nXyR7dGltZXN0YW1wfS5wbmdgO1xyXG5cclxuICAgIGNvbnN0IHVwbG9hZFBhcmFtcyA9IHtcclxuICAgICAgQnVja2V0OiBwcm9jZXNzLmVudi5URU5DRU5UX0NMT1VEX0JVQ0tFVCxcclxuICAgICAgUmVnaW9uOiBwcm9jZXNzLmVudi5URU5DRU5UX0NMT1VEX1JFR0lPTixcclxuICAgICAgS2V5OiBvcmlnaW5hbEtleSxcclxuICAgICAgQm9keTogQnVmZmVyLmZyb20oaW1hZ2VfYmFzZTY0LCAnYmFzZTY0JyksXHJcbiAgICAgIEhlYWRlcnM6IHtcclxuICAgICAgICAnUGljLU9wZXJhdGlvbnMnOiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBpc19waWNfaW5mbzogMSxcclxuICAgICAgICAgIHJ1bGVzOiBbe1xyXG4gICAgICAgICAgICBmaWxlaWQ6IHByb2Nlc3NlZEtleSxcclxuICAgICAgICAgICAgcnVsZTogJ2NpLXByb2Nlc3M9QUlQaWNNYXR0aW5nJ1xyXG4gICAgICAgICAgfV1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIOiusOW9leS4iuS8oOWPguaVsO+8iOaOkumZpOaVj+aEn+S/oeaBr++8iVxyXG4gICAgbG9nZ2VyLmluZm8oJ+S4iuS8oOWPguaVsCcsIHtcclxuICAgICAgYnVja2V0OiB1cGxvYWRQYXJhbXMuQnVja2V0LFxyXG4gICAgICByZWdpb246IHVwbG9hZFBhcmFtcy5SZWdpb24sXHJcbiAgICAgIGtleTogdXBsb2FkUGFyYW1zLktleSxcclxuICAgICAgYm9keVNpemU6IHVwbG9hZFBhcmFtcy5Cb2R5Lmxlbmd0aCxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOaJp+ihjOS4iuS8oFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb3MucHV0T2JqZWN0KHVwbG9hZFBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIGxvZ2dlci5lcnJvcign5LiK5Lyg5aSx6LSlJywge1xyXG4gICAgICAgICAgICBlcnJvcjogZXJyLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbG9nZ2VyLmluZm8oJ+S4iuS8oOaIkOWKnycsIHtcclxuICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJlc29sdmUoZGF0YSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g6aqM6K+B5LiK5Lyg57uT5p6cXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB2ZXJpZnlVcGxvYWQodXBsb2FkUGFyYW1zKTtcclxuICAgIH0gY2F0Y2ggKHZlcmlmeUVycikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoJ+S4iuS8oOmqjOivgeWksei0pScsIHtcclxuICAgICAgICBlcnJvcjogdmVyaWZ5RXJyLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aHJvdyB2ZXJpZnlFcnI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5p6E5bu66L+U5ZueVVJMXHJcbiAgICBjb25zdCBwcm9jZXNzZWRJbWFnZVVybCA9IGBodHRwczovLyR7cHJvY2Vzcy5lbnYuVEVOQ0VOVF9DTE9VRF9CVUNLRVRfRE9NQUlOfS8ke3Byb2Nlc3NlZEtleX1gO1xyXG4gICAgXHJcbiAgICAvLyDojrflj5blpITnkIblkI7nmoTlm77niYfmlbDmja5cclxuICAgIGNvbnN0IHByb2Nlc3NlZEltYWdlRGF0YSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29zLmdldE9iamVjdCh7XHJcbiAgICAgICAgQnVja2V0OiBwcm9jZXNzLmVudi5URU5DRU5UX0NMT1VEX0JVQ0tFVCxcclxuICAgICAgICBSZWdpb246IHByb2Nlc3MuZW52LlRFTkNFTlRfQ0xPVURfUkVHSU9OLFxyXG4gICAgICAgIEtleTogcHJvY2Vzc2VkS2V5LFxyXG4gICAgICB9LCAoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgbG9nZ2VyLmVycm9yKCfojrflj5blpITnkIblkI7lm77niYflpLHotKUnLCB7XHJcbiAgICAgICAgICAgIGVycm9yOiBlcnIsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyDlsIblm77niYfmlbDmja7ovazmjaLkuLogYmFzZTY0XHJcbiAgICAgICAgY29uc3QgYmFzZTY0RGF0YSA9IGRhdGEuQm9keS50b1N0cmluZygnYmFzZTY0Jyk7XHJcbiAgICAgICAgcmVzb2x2ZShiYXNlNjREYXRhKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDorrDlvZXlrozmlbTlpITnkIbnu5PmnpxcclxuICAgIGxvZ2dlci5pbmZvKCflpITnkIblrozmiJAnLCB7XHJcbiAgICAgIG9yaWdpbmFsS2V5LFxyXG4gICAgICBwcm9jZXNzZWRLZXksXHJcbiAgICAgIHByb2Nlc3NlZEltYWdlVXJsLFxyXG4gICAgICByZXN1bHQsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgZm9yZWdyb3VuZF9pbWFnZTogYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke3Byb2Nlc3NlZEltYWdlRGF0YX1gXHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICfmiqDlm77lpITnkIbmiJDlip8nXHJcbiAgICB9KTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBsb2dnZXIuZXJyb3IoJ+ivt+axguWksei0pScsIHtcclxuICAgICAgZXJyb3I6IHtcclxuICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgICBzdGFjazogZXJyLnN0YWNrXHJcbiAgICAgIH0sXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfHwgJ+WkhOeQhuWksei0pSdcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ09TIiwiTG9nZ2VyIiwiY29zIiwiU2VjcmV0SWQiLCJwcm9jZXNzIiwiZW52IiwiVEVOQ0VOVF9DTE9VRF9TRUNSRVRfSUQiLCJTZWNyZXRLZXkiLCJURU5DRU5UX0NMT1VEX1NFQ1JFVF9LRVkiLCJ2ZXJpZnlVcGxvYWQiLCJwYXJhbXMiLCJsb2dnZXIiLCJmb3JSZXF1ZXN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJoZWFkT2JqZWN0IiwiQnVja2V0IiwiUmVnaW9uIiwiS2V5IiwiZXJyIiwiZGF0YSIsImVycm9yIiwiaW5mbyIsImtleSIsImNvbnRlbnRMZW5ndGgiLCJoZWFkZXJzIiwiY29udGVudFR5cGUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiRXJyb3IiLCJpbWFnZV9iYXNlNjQiLCJib2R5IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibm93Iiwib3JpZ2luYWxLZXkiLCJwcm9jZXNzZWRLZXkiLCJ1cGxvYWRQYXJhbXMiLCJURU5DRU5UX0NMT1VEX0JVQ0tFVCIsIlRFTkNFTlRfQ0xPVURfUkVHSU9OIiwiQm9keSIsIkJ1ZmZlciIsImZyb20iLCJIZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImlzX3BpY19pbmZvIiwicnVsZXMiLCJmaWxlaWQiLCJydWxlIiwiYnVja2V0IiwicmVnaW9uIiwiYm9keVNpemUiLCJsZW5ndGgiLCJyZXN1bHQiLCJwdXRPYmplY3QiLCJ2ZXJpZnlFcnIiLCJwcm9jZXNzZWRJbWFnZVVybCIsIlRFTkNFTlRfQ0xPVURfQlVDS0VUX0RPTUFJTiIsInByb2Nlc3NlZEltYWdlRGF0YSIsImdldE9iamVjdCIsImJhc2U2NERhdGEiLCJ0b1N0cmluZyIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZm9yZWdyb3VuZF9pbWFnZSIsIm1lc3NhZ2UiLCJzdGFjayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/image/matting.js\n");

/***/ }),

/***/ "(api)/./utils/api/logger.js":
/*!*****************************!*\
  !*** ./utils/api/logger.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// 日志级别颜色配置\nconst COLORS = {\n    INFO: \"\\x1b[36m\",\n    WARN: \"\\x1b[33m\",\n    ERROR: \"\\x1b[31m\",\n    DEBUG: \"\\x1b[35m\",\n    RESET: \"\\x1b[0m\" // 重置\n};\n// 表情符号配置\nconst EMOJI = {\n    INFO: \"\\uD83D\\uDD35\",\n    WARN: \"\\uD83D\\uDFE1\",\n    ERROR: \"\\uD83D\\uDD34\",\n    DEBUG: \"\\uD83D\\uDFE3\"\n};\nclass Logger {\n    constructor(requestId){\n        this.requestId = requestId || Math.random().toString(36).substring(7);\n        this.startTime = Date.now();\n    }\n    _log(level, message, data = {}) {\n        const timestamp = new Date().toISOString();\n        const timeElapsed = Date.now() - this.startTime;\n        // 构建基础日志数据\n        const logData = {\n            ...data,\n            request_id: this.requestId,\n            time_elapsed: `${timeElapsed}ms`\n        };\n        // 打印彩色日志头\n        console.log(`${COLORS[level]}[${timestamp}] ${EMOJI[level]} ${level} [${this.requestId}]${COLORS.RESET}`, message);\n        // 如果有额外数据，以灰色打印\n        if (Object.keys(logData).length > 0) {\n            console.log(\"\\x1b[90m%s\\x1b[0m\", JSON.stringify(logData, null, 2));\n        }\n        return logData;\n    }\n    info(message, data = {}) {\n        return this._log(\"INFO\", message, data);\n    }\n    warn(message, data = {}) {\n        return this._log(\"WARN\", message, data);\n    }\n    error(message, data = {}) {\n        return this._log(\"ERROR\", message, data);\n    }\n    debug(message, data = {}) {\n        return this._log(\"DEBUG\", message, data);\n    }\n    // 创建一个新的请求日志实例\n    static forRequest() {\n        return new Logger();\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9hcGkvbG9nZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxXQUFXO0FBQ1gsTUFBTUEsU0FBUztJQUNiQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLE9BQU8sVUFBYSxLQUFLO0FBQzNCO0FBRUEsU0FBUztBQUNULE1BQU1DLFFBQVE7SUFDWkwsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLE9BQU87SUFDUEMsT0FBTztBQUNUO0FBRUEsTUFBTUc7SUFDSkMsWUFBWUMsU0FBUyxDQUFFO1FBQ3JCLElBQUksQ0FBQ0EsU0FBUyxHQUFHQSxhQUFhQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUM7UUFDbkUsSUFBSSxDQUFDQyxTQUFTLEdBQUdDLEtBQUtDLEdBQUc7SUFDM0I7SUFFQUMsS0FBS0MsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7UUFDOUIsTUFBTUMsWUFBWSxJQUFJTixPQUFPTyxXQUFXO1FBQ3hDLE1BQU1DLGNBQWNSLEtBQUtDLEdBQUcsS0FBSyxJQUFJLENBQUNGLFNBQVM7UUFFL0MsV0FBVztRQUNYLE1BQU1VLFVBQVU7WUFDZCxHQUFHSixJQUFJO1lBQ1BLLFlBQVksSUFBSSxDQUFDaEIsU0FBUztZQUMxQmlCLGNBQWMsQ0FBQyxFQUFFSCxZQUFZLEVBQUUsQ0FBQztRQUNsQztRQUVBLFVBQVU7UUFDVkksUUFBUUMsR0FBRyxDQUNULENBQUMsRUFBRTVCLE1BQU0sQ0FBQ2tCLE1BQU0sQ0FBQyxDQUFDLEVBQUVHLFVBQVUsRUFBRSxFQUFFZixLQUFLLENBQUNZLE1BQU0sQ0FBQyxDQUFDLEVBQUVBLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQ1QsU0FBUyxDQUFDLENBQUMsRUFBRVQsT0FBT0ssS0FBSyxDQUFDLENBQUMsRUFDNUZjO1FBR0YsZ0JBQWdCO1FBQ2hCLElBQUlVLE9BQU9DLElBQUksQ0FBQ04sU0FBU08sTUFBTSxHQUFHLEdBQUc7WUFDbkNKLFFBQVFDLEdBQUcsQ0FBQyxxQkFBcUJJLEtBQUtDLFNBQVMsQ0FBQ1QsU0FBUyxNQUFNO1FBQ2pFO1FBRUEsT0FBT0E7SUFDVDtJQUVBVSxLQUFLZixPQUFPLEVBQUVDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7UUFDdkIsT0FBTyxJQUFJLENBQUNILElBQUksQ0FBQyxRQUFRRSxTQUFTQztJQUNwQztJQUVBZSxLQUFLaEIsT0FBTyxFQUFFQyxPQUFPLENBQUMsQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDSCxJQUFJLENBQUMsUUFBUUUsU0FBU0M7SUFDcEM7SUFFQWdCLE1BQU1qQixPQUFPLEVBQUVDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7UUFDeEIsT0FBTyxJQUFJLENBQUNILElBQUksQ0FBQyxTQUFTRSxTQUFTQztJQUNyQztJQUVBaUIsTUFBTWxCLE9BQU8sRUFBRUMsT0FBTyxDQUFDLENBQUMsRUFBRTtRQUN4QixPQUFPLElBQUksQ0FBQ0gsSUFBSSxDQUFDLFNBQVNFLFNBQVNDO0lBQ3JDO0lBRUEsZUFBZTtJQUNmLE9BQU9rQixhQUFhO1FBQ2xCLE9BQU8sSUFBSS9CO0lBQ2I7QUFDRjtBQUVBLGlFQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktaW1hZ2UtdG9vbC8uL3V0aWxzL2FwaS9sb2dnZXIuanM/ZTBlZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDml6Xlv5fnuqfliKvpopzoibLphY3nva5cclxuY29uc3QgQ09MT1JTID0ge1xyXG4gIElORk86ICdcXHgxYlszNm0nLCAgIC8vIOmdkuiJslxyXG4gIFdBUk46ICdcXHgxYlszM20nLCAgIC8vIOm7hOiJslxyXG4gIEVSUk9SOiAnXFx4MWJbMzFtJywgIC8vIOe6ouiJslxyXG4gIERFQlVHOiAnXFx4MWJbMzVtJywgIC8vIOe0q+iJslxyXG4gIFJFU0VUOiAnXFx4MWJbMG0nICAgIC8vIOmHjee9rlxyXG59O1xyXG5cclxuLy8g6KGo5oOF56ym5Y+36YWN572uXHJcbmNvbnN0IEVNT0pJID0ge1xyXG4gIElORk86ICfwn5S1JyxcclxuICBXQVJOOiAn8J+foScsXHJcbiAgRVJST1I6ICfwn5S0JyxcclxuICBERUJVRzogJ/Cfn6MnXHJcbn07XHJcblxyXG5jbGFzcyBMb2dnZXIge1xyXG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RJZCkge1xyXG4gICAgdGhpcy5yZXF1ZXN0SWQgPSByZXF1ZXN0SWQgfHwgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xyXG4gICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gIH1cclxuXHJcbiAgX2xvZyhsZXZlbCwgbWVzc2FnZSwgZGF0YSA9IHt9KSB7XHJcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCkgLSB0aGlzLnN0YXJ0VGltZTtcclxuICAgIFxyXG4gICAgLy8g5p6E5bu65Z+656GA5pel5b+X5pWw5o2uXHJcbiAgICBjb25zdCBsb2dEYXRhID0ge1xyXG4gICAgICAuLi5kYXRhLFxyXG4gICAgICByZXF1ZXN0X2lkOiB0aGlzLnJlcXVlc3RJZCxcclxuICAgICAgdGltZV9lbGFwc2VkOiBgJHt0aW1lRWxhcHNlZH1tc2BcclxuICAgIH07XHJcblxyXG4gICAgLy8g5omT5Y2w5b2p6Imy5pel5b+X5aS0XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYCR7Q09MT1JTW2xldmVsXX1bJHt0aW1lc3RhbXB9XSAke0VNT0pJW2xldmVsXX0gJHtsZXZlbH0gWyR7dGhpcy5yZXF1ZXN0SWR9XSR7Q09MT1JTLlJFU0VUfWAsXHJcbiAgICAgIG1lc3NhZ2VcclxuICAgICk7XHJcblxyXG4gICAgLy8g5aaC5p6c5pyJ6aKd5aSW5pWw5o2u77yM5Lul54Gw6Imy5omT5Y2wXHJcbiAgICBpZiAoT2JqZWN0LmtleXMobG9nRGF0YSkubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnXFx4MWJbOTBtJXNcXHgxYlswbScsIEpTT04uc3RyaW5naWZ5KGxvZ0RhdGEsIG51bGwsIDIpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbG9nRGF0YTtcclxuICB9XHJcblxyXG4gIGluZm8obWVzc2FnZSwgZGF0YSA9IHt9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbG9nKCdJTkZPJywgbWVzc2FnZSwgZGF0YSk7XHJcbiAgfVxyXG5cclxuICB3YXJuKG1lc3NhZ2UsIGRhdGEgPSB7fSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xvZygnV0FSTicsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgZXJyb3IobWVzc2FnZSwgZGF0YSA9IHt9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbG9nKCdFUlJPUicsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgZGVidWcobWVzc2FnZSwgZGF0YSA9IHt9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbG9nKCdERUJVRycsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgLy8g5Yib5bu65LiA5Liq5paw55qE6K+35rGC5pel5b+X5a6e5L6LXHJcbiAgc3RhdGljIGZvclJlcXVlc3QoKSB7XHJcbiAgICByZXR1cm4gbmV3IExvZ2dlcigpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xyXG4iXSwibmFtZXMiOlsiQ09MT1JTIiwiSU5GTyIsIldBUk4iLCJFUlJPUiIsIkRFQlVHIiwiUkVTRVQiLCJFTU9KSSIsIkxvZ2dlciIsImNvbnN0cnVjdG9yIiwicmVxdWVzdElkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIl9sb2ciLCJsZXZlbCIsIm1lc3NhZ2UiLCJkYXRhIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJ0aW1lRWxhcHNlZCIsImxvZ0RhdGEiLCJyZXF1ZXN0X2lkIiwidGltZV9lbGFwc2VkIiwiY29uc29sZSIsImxvZyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJKU09OIiwic3RyaW5naWZ5IiwiaW5mbyIsIndhcm4iLCJlcnJvciIsImRlYnVnIiwiZm9yUmVxdWVzdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/api/logger.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimage%2Fmatting&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cimage%5Cmatting.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();