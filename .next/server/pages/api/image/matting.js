"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/image/matting";
exports.ids = ["pages/api/image/matting"];
exports.modules = {

/***/ "cos-nodejs-sdk-v5":
/*!************************************!*\
  !*** external "cos-nodejs-sdk-v5" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("cos-nodejs-sdk-v5");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimage%2Fmatting&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cimage%5Cmatting.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimage%2Fmatting&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cimage%5Cmatting.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_image_matting_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\image\\matting.js */ \"(api)/./pages/api/image/matting.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_image_matting_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_image_matting_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/image/matting\",\n        pathname: \"/api/image/matting\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_image_matting_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmltYWdlJTJGbWF0dGluZyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDaW1hZ2UlNUNtYXR0aW5nLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzREO0FBQzVEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktaW1hZ2UtdG9vbC8/ZDE5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGltYWdlXFxcXG1hdHRpbmcuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pbWFnZS9tYXR0aW5nXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaW1hZ2UvbWF0dGluZ1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimage%2Fmatting&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cimage%5Cmatting.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/image/matting.js":
/*!************************************!*\
  !*** ./pages/api/image/matting.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var cos_nodejs_sdk_v5__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cos-nodejs-sdk-v5 */ \"cos-nodejs-sdk-v5\");\n/* harmony import */ var cos_nodejs_sdk_v5__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cos_nodejs_sdk_v5__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_api_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/api/logger */ \"(api)/./utils/api/logger.js\");\n\n\n// 初始化 COS 实例\nconst cos = new (cos_nodejs_sdk_v5__WEBPACK_IMPORTED_MODULE_0___default())({\n    SecretId: \"AKIDcDboqlTyGML7ua9kDVfeR5Yryu1xqfM4\",\n    SecretKey: \"1rY4NVQAh2A4lEYijYAYs31lKjwwhEZk\"\n});\n// 添加一个验证函数检查图片是否成功上传\nasync function verifyUpload(params) {\n    const logger = _utils_api_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forRequest();\n    return new Promise((resolve, reject)=>{\n        cos.headObject({\n            Bucket: params.Bucket,\n            Region: params.Region,\n            Key: params.Key\n        }, (err, data)=>{\n            if (err) {\n                logger.error(\"验证上传失败\", {\n                    error: err,\n                    params: params\n                });\n                reject(err);\n                return;\n            }\n            logger.info(\"验证上传成功\", {\n                key: params.Key,\n                contentLength: data.headers[\"content-length\"],\n                contentType: data.headers[\"content-type\"]\n            });\n            resolve(data);\n        });\n    });\n}\nconst config = {\n    api: {\n        bodyParser: {\n            sizeLimit: \"30mb\"\n        }\n    }\n};\nasync function handler(req, res) {\n    const logger = _utils_api_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forRequest();\n    try {\n        if (req.method !== \"POST\") {\n            throw new Error(\"Method not allowed\");\n        }\n        const { image_base64 } = req.body;\n        if (!image_base64) {\n            throw new Error(\"Missing image data\");\n        }\n        // 记录上传开始\n        logger.info(\"开始上传图片\", {\n            timestamp: new Date().toISOString()\n        });\n        const timestamp = Date.now();\n        const originalKey = `original_${timestamp}.jpg`;\n        const processedKey = `matting_${timestamp}.png`;\n        const uploadParams = {\n            Bucket: \"ynnai-1256269009\",\n            Region: \"ap-guangzhou\",\n            Key: originalKey,\n            Body: Buffer.from(image_base64, \"base64\"),\n            Headers: {\n                \"Pic-Operations\": JSON.stringify({\n                    is_pic_info: 1,\n                    rules: [\n                        {\n                            fileid: processedKey,\n                            rule: \"ci-process=AIPicMatting\"\n                        }\n                    ]\n                })\n            }\n        };\n        // 记录上传参数（排除敏感信息）\n        logger.info(\"上传参数\", {\n            bucket: uploadParams.Bucket,\n            region: uploadParams.Region,\n            key: uploadParams.Key,\n            bodySize: uploadParams.Body.length,\n            timestamp: new Date().toISOString()\n        });\n        // 执行上传\n        const result = await new Promise((resolve, reject)=>{\n            cos.putObject(uploadParams, (err, data)=>{\n                if (err) {\n                    logger.error(\"上传失败\", {\n                        error: err,\n                        timestamp: new Date().toISOString()\n                    });\n                    reject(err);\n                    return;\n                }\n                logger.info(\"上传成功\", {\n                    data: data,\n                    timestamp: new Date().toISOString()\n                });\n                resolve(data);\n            });\n        });\n        // 验证上传结果\n        try {\n            await verifyUpload(uploadParams);\n        } catch (verifyErr) {\n            logger.error(\"上传验证失败\", {\n                error: verifyErr,\n                timestamp: new Date().toISOString()\n            });\n            throw verifyErr;\n        }\n        // 构建返回URL\n        const processedImageUrl = `https://${\"ynnai-1256269009.cos.ap-guangzhou.myqcloud.com\"}/${processedKey}`;\n        // 获取处理后的图片数据\n        const processedImageData = await new Promise((resolve, reject)=>{\n            cos.getObject({\n                Bucket: \"ynnai-1256269009\",\n                Region: \"ap-guangzhou\",\n                Key: processedKey\n            }, (err, data)=>{\n                if (err) {\n                    logger.error(\"获取处理后图片失败\", {\n                        error: err,\n                        timestamp: new Date().toISOString()\n                    });\n                    reject(err);\n                    return;\n                }\n                // 将图片数据转换为 base64\n                const base64Data = data.Body.toString(\"base64\");\n                resolve(base64Data);\n            });\n        });\n        // 记录完整处理结果\n        logger.info(\"处理完成\", {\n            originalKey,\n            processedKey,\n            processedImageUrl,\n            result,\n            timestamp: new Date().toISOString()\n        });\n        return res.status(200).json({\n            success: true,\n            data: {\n                foreground_image: `data:image/png;base64,${processedImageData}`\n            },\n            message: \"抠图处理成功\"\n        });\n    } catch (err) {\n        logger.error(\"请求失败\", {\n            error: {\n                message: err.message,\n                stack: err.stack\n            },\n            timestamp: new Date().toISOString()\n        });\n        return res.status(500).json({\n            success: false,\n            message: err.message || \"处理失败\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFtQixDQUFDO1lBQ2pFO1lBQ0FRLFNBQVM7UUFDWDtJQUVGLEVBQUUsT0FBT3ZELEtBQUs7UUFDWlQsT0FBT1csS0FBSyxDQUFDLFFBQVE7WUFDbkJBLE9BQU87Z0JBQ0xxRCxTQUFTdkQsSUFBSXVELE9BQU87Z0JBQ3BCQyxPQUFPeEQsSUFBSXdELEtBQUs7WUFDbEI7WUFDQXJDLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQztRQUVBLE9BQU9QLElBQUlxQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RFLFNBQVN2RCxJQUFJdUQsT0FBTyxJQUFJO1FBQzFCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWltYWdlLXRvb2wvLi9wYWdlcy9hcGkvaW1hZ2UvbWF0dGluZy5qcz9hZGY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDT1MgZnJvbSAnY29zLW5vZGVqcy1zZGstdjUnO1xuaW1wb3J0IExvZ2dlciBmcm9tICdAL3V0aWxzL2FwaS9sb2dnZXInO1xuXG4vLyDliJ3lp4vljJYgQ09TIOWunuS+i1xuY29uc3QgY29zID0gbmV3IENPUyh7XG4gIFNlY3JldElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19URU5DRU5UX0NMT1VEX1NFQ1JFVF9JRCxcbiAgU2VjcmV0S2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19URU5DRU5UX0NMT1VEX1NFQ1JFVF9LRVlcbn0pO1xuXG4vLyDmt7vliqDkuIDkuKrpqozor4Hlh73mlbDmo4Dmn6Xlm77niYfmmK/lkKbmiJDlip/kuIrkvKBcbmFzeW5jIGZ1bmN0aW9uIHZlcmlmeVVwbG9hZChwYXJhbXMpIHtcbiAgY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmZvclJlcXVlc3QoKTtcbiAgXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29zLmhlYWRPYmplY3Qoe1xuICAgICAgQnVja2V0OiBwYXJhbXMuQnVja2V0LFxuICAgICAgUmVnaW9uOiBwYXJhbXMuUmVnaW9uLFxuICAgICAgS2V5OiBwYXJhbXMuS2V5XG4gICAgfSwgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoJ+mqjOivgeS4iuS8oOWksei0pScsIHtcbiAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgICAgIH0pO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsb2dnZXIuaW5mbygn6aqM6K+B5LiK5Lyg5oiQ5YqfJywge1xuICAgICAgICBrZXk6IHBhcmFtcy5LZXksXG4gICAgICAgIGNvbnRlbnRMZW5ndGg6IGRhdGEuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSxcbiAgICAgICAgY29udGVudFR5cGU6IGRhdGEuaGVhZGVyc1snY29udGVudC10eXBlJ11cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXNvbHZlKGRhdGEpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgYXBpOiB7XG4gICAgYm9keVBhcnNlcjoge1xuICAgICAgc2l6ZUxpbWl0OiAnMzBtYidcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmZvclJlcXVlc3QoKTtcbiAgXG4gIHRyeSB7XG4gICAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGFsbG93ZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGltYWdlX2Jhc2U2NCB9ID0gcmVxLmJvZHk7XG4gICAgXG4gICAgaWYgKCFpbWFnZV9iYXNlNjQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBpbWFnZSBkYXRhJyk7XG4gICAgfVxuXG4gICAgLy8g6K6w5b2V5LiK5Lyg5byA5aeLXG4gICAgbG9nZ2VyLmluZm8oJ+W8gOWni+S4iuS8oOWbvueJhycsIHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSk7XG5cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IG9yaWdpbmFsS2V5ID0gYG9yaWdpbmFsXyR7dGltZXN0YW1wfS5qcGdgO1xuICAgIGNvbnN0IHByb2Nlc3NlZEtleSA9IGBtYXR0aW5nXyR7dGltZXN0YW1wfS5wbmdgO1xuXG4gICAgY29uc3QgdXBsb2FkUGFyYW1zID0ge1xuICAgICAgQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19URU5DRU5UX0NMT1VEX0JVQ0tFVCxcbiAgICAgIFJlZ2lvbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVEVOQ0VOVF9DTE9VRF9SRUdJT04sXG4gICAgICBLZXk6IG9yaWdpbmFsS2V5LFxuICAgICAgQm9keTogQnVmZmVyLmZyb20oaW1hZ2VfYmFzZTY0LCAnYmFzZTY0JyksXG4gICAgICBIZWFkZXJzOiB7XG4gICAgICAgICdQaWMtT3BlcmF0aW9ucyc6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBpc19waWNfaW5mbzogMSxcbiAgICAgICAgICBydWxlczogW3tcbiAgICAgICAgICAgIGZpbGVpZDogcHJvY2Vzc2VkS2V5LFxuICAgICAgICAgICAgcnVsZTogJ2NpLXByb2Nlc3M9QUlQaWNNYXR0aW5nJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIOiusOW9leS4iuS8oOWPguaVsO+8iOaOkumZpOaVj+aEn+S/oeaBr++8iVxuICAgIGxvZ2dlci5pbmZvKCfkuIrkvKDlj4LmlbAnLCB7XG4gICAgICBidWNrZXQ6IHVwbG9hZFBhcmFtcy5CdWNrZXQsXG4gICAgICByZWdpb246IHVwbG9hZFBhcmFtcy5SZWdpb24sXG4gICAgICBrZXk6IHVwbG9hZFBhcmFtcy5LZXksXG4gICAgICBib2R5U2l6ZTogdXBsb2FkUGFyYW1zLkJvZHkubGVuZ3RoLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcblxuICAgIC8vIOaJp+ihjOS4iuS8oFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvcy5wdXRPYmplY3QodXBsb2FkUGFyYW1zLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoJ+S4iuS8oOWksei0pScsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbG9nZ2VyLmluZm8oJ+S4iuS8oOaIkOWKnycsIHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8g6aqM6K+B5LiK5Lyg57uT5p6cXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHZlcmlmeVVwbG9hZCh1cGxvYWRQYXJhbXMpO1xuICAgIH0gY2F0Y2ggKHZlcmlmeUVycikge1xuICAgICAgbG9nZ2VyLmVycm9yKCfkuIrkvKDpqozor4HlpLHotKUnLCB7XG4gICAgICAgIGVycm9yOiB2ZXJpZnlFcnIsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcbiAgICAgIHRocm93IHZlcmlmeUVycjtcbiAgICB9XG5cbiAgICAvLyDmnoTlu7rov5Tlm55VUkxcbiAgICBjb25zdCBwcm9jZXNzZWRJbWFnZVVybCA9IGBodHRwczovLyR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVEVOQ0VOVF9DTE9VRF9CVUNLRVRfRE9NQUlOfS8ke3Byb2Nlc3NlZEtleX1gO1xuICAgIFxuICAgIC8vIOiOt+WPluWkhOeQhuWQjueahOWbvueJh+aVsOaNrlxuICAgIGNvbnN0IHByb2Nlc3NlZEltYWdlRGF0YSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvcy5nZXRPYmplY3Qoe1xuICAgICAgICBCdWNrZXQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFTkNFTlRfQ0xPVURfQlVDS0VULFxuICAgICAgICBSZWdpb246IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFTkNFTlRfQ0xPVURfUkVHSU9OLFxuICAgICAgICBLZXk6IHByb2Nlc3NlZEtleSxcbiAgICAgIH0sIChlcnIsIGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGxvZ2dlci5lcnJvcign6I635Y+W5aSE55CG5ZCO5Zu+54mH5aSx6LSlJywge1xuICAgICAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDlsIblm77niYfmlbDmja7ovazmjaLkuLogYmFzZTY0XG4gICAgICAgIGNvbnN0IGJhc2U2NERhdGEgPSBkYXRhLkJvZHkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgICAgICByZXNvbHZlKGJhc2U2NERhdGEpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyDorrDlvZXlrozmlbTlpITnkIbnu5PmnpxcbiAgICBsb2dnZXIuaW5mbygn5aSE55CG5a6M5oiQJywge1xuICAgICAgb3JpZ2luYWxLZXksXG4gICAgICBwcm9jZXNzZWRLZXksXG4gICAgICBwcm9jZXNzZWRJbWFnZVVybCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZm9yZWdyb3VuZF9pbWFnZTogYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke3Byb2Nlc3NlZEltYWdlRGF0YX1gXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+aKoOWbvuWkhOeQhuaIkOWKnydcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ+ivt+axguWksei0pScsIHtcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogZXJyLnN0YWNrXG4gICAgICB9LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcblxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlIHx8ICflpITnkIblpLHotKUnXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDT1MiLCJMb2dnZXIiLCJjb3MiLCJTZWNyZXRJZCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19URU5DRU5UX0NMT1VEX1NFQ1JFVF9JRCIsIlNlY3JldEtleSIsIk5FWFRfUFVCTElDX1RFTkNFTlRfQ0xPVURfU0VDUkVUX0tFWSIsInZlcmlmeVVwbG9hZCIsInBhcmFtcyIsImxvZ2dlciIsImZvclJlcXVlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImhlYWRPYmplY3QiLCJCdWNrZXQiLCJSZWdpb24iLCJLZXkiLCJlcnIiLCJkYXRhIiwiZXJyb3IiLCJpbmZvIiwia2V5IiwiY29udGVudExlbmd0aCIsImhlYWRlcnMiLCJjb250ZW50VHlwZSIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiLCJzaXplTGltaXQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiRXJyb3IiLCJpbWFnZV9iYXNlNjQiLCJib2R5IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibm93Iiwib3JpZ2luYWxLZXkiLCJwcm9jZXNzZWRLZXkiLCJ1cGxvYWRQYXJhbXMiLCJORVhUX1BVQkxJQ19URU5DRU5UX0NMT1VEX0JVQ0tFVCIsIk5FWFRfUFVCTElDX1RFTkNFTlRfQ0xPVURfUkVHSU9OIiwiQm9keSIsIkJ1ZmZlciIsImZyb20iLCJIZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImlzX3BpY19pbmZvIiwicnVsZXMiLCJmaWxlaWQiLCJydWxlIiwiYnVja2V0IiwicmVnaW9uIiwiYm9keVNpemUiLCJsZW5ndGgiLCJyZXN1bHQiLCJwdXRPYmplY3QiLCJ2ZXJpZnlFcnIiLCJwcm9jZXNzZWRJbWFnZVVybCIsIk5FWFRfUFVCTElDX1RFTkNFTlRfQ0xPVURfQlVDS0VUX0RPTUFJTiIsInByb2Nlc3NlZEltYWdlRGF0YSIsImdldE9iamVjdCIsImJhc2U2NERhdGEiLCJ0b1N0cmluZyIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZm9yZWdyb3VuZF9pbWFnZSIsIm1lc3NhZ2UiLCJzdGFjayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/image/matting.js\n");

/***/ }),

/***/ "(api)/./utils/api/logger.js":
/*!*****************************!*\
  !*** ./utils/api/logger.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// 日志级别颜色配置\nconst COLORS = {\n    INFO: \"\\x1b[36m\",\n    WARN: \"\\x1b[33m\",\n    ERROR: \"\\x1b[31m\",\n    DEBUG: \"\\x1b[35m\",\n    RESET: \"\\x1b[0m\" // 重置\n};\n// 表情符号配置\nconst EMOJI = {\n    INFO: \"\\uD83D\\uDD35\",\n    WARN: \"\\uD83D\\uDFE1\",\n    ERROR: \"\\uD83D\\uDD34\",\n    DEBUG: \"\\uD83D\\uDFE3\"\n};\nclass Logger {\n    constructor(requestId){\n        this.requestId = requestId || Math.random().toString(36).substring(7);\n        this.startTime = Date.now();\n    }\n    _log(level, message, data = {}) {\n        const timestamp = new Date().toISOString();\n        const timeElapsed = Date.now() - this.startTime;\n        // 构建基础日志数据\n        const logData = {\n            ...data,\n            request_id: this.requestId,\n            time_elapsed: `${timeElapsed}ms`\n        };\n        // 打印彩色日志头\n        console.log(`${COLORS[level]}[${timestamp}] ${EMOJI[level]} ${level} [${this.requestId}]${COLORS.RESET}`, message);\n        // 如果有额外数据，以灰色打印\n        if (Object.keys(logData).length > 0) {\n            console.log(\"\\x1b[90m%s\\x1b[0m\", JSON.stringify(logData, null, 2));\n        }\n        return logData;\n    }\n    info(message, data = {}) {\n        return this._log(\"INFO\", message, data);\n    }\n    warn(message, data = {}) {\n        return this._log(\"WARN\", message, data);\n    }\n    error(message, data = {}) {\n        return this._log(\"ERROR\", message, data);\n    }\n    debug(message, data = {}) {\n        return this._log(\"DEBUG\", message, data);\n    }\n    // 创建一个新的请求日志实例\n    static forRequest() {\n        return new Logger();\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9hcGkvbG9nZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxXQUFXO0FBQ1gsTUFBTUEsU0FBUztJQUNiQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLE9BQU8sVUFBYSxLQUFLO0FBQzNCO0FBRUEsU0FBUztBQUNULE1BQU1DLFFBQVE7SUFDWkwsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLE9BQU87SUFDUEMsT0FBTztBQUNUO0FBRUEsTUFBTUc7SUFDSkMsWUFBWUMsU0FBUyxDQUFFO1FBQ3JCLElBQUksQ0FBQ0EsU0FBUyxHQUFHQSxhQUFhQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUM7UUFDbkUsSUFBSSxDQUFDQyxTQUFTLEdBQUdDLEtBQUtDLEdBQUc7SUFDM0I7SUFFQUMsS0FBS0MsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7UUFDOUIsTUFBTUMsWUFBWSxJQUFJTixPQUFPTyxXQUFXO1FBQ3hDLE1BQU1DLGNBQWNSLEtBQUtDLEdBQUcsS0FBSyxJQUFJLENBQUNGLFNBQVM7UUFFL0MsV0FBVztRQUNYLE1BQU1VLFVBQVU7WUFDZCxHQUFHSixJQUFJO1lBQ1BLLFlBQVksSUFBSSxDQUFDaEIsU0FBUztZQUMxQmlCLGNBQWMsQ0FBQyxFQUFFSCxZQUFZLEVBQUUsQ0FBQztRQUNsQztRQUVBLFVBQVU7UUFDVkksUUFBUUMsR0FBRyxDQUNULENBQUMsRUFBRTVCLE1BQU0sQ0FBQ2tCLE1BQU0sQ0FBQyxDQUFDLEVBQUVHLFVBQVUsRUFBRSxFQUFFZixLQUFLLENBQUNZLE1BQU0sQ0FBQyxDQUFDLEVBQUVBLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQ1QsU0FBUyxDQUFDLENBQUMsRUFBRVQsT0FBT0ssS0FBSyxDQUFDLENBQUMsRUFDNUZjO1FBR0YsZ0JBQWdCO1FBQ2hCLElBQUlVLE9BQU9DLElBQUksQ0FBQ04sU0FBU08sTUFBTSxHQUFHLEdBQUc7WUFDbkNKLFFBQVFDLEdBQUcsQ0FBQyxxQkFBcUJJLEtBQUtDLFNBQVMsQ0FBQ1QsU0FBUyxNQUFNO1FBQ2pFO1FBRUEsT0FBT0E7SUFDVDtJQUVBVSxLQUFLZixPQUFPLEVBQUVDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7UUFDdkIsT0FBTyxJQUFJLENBQUNILElBQUksQ0FBQyxRQUFRRSxTQUFTQztJQUNwQztJQUVBZSxLQUFLaEIsT0FBTyxFQUFFQyxPQUFPLENBQUMsQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDSCxJQUFJLENBQUMsUUFBUUUsU0FBU0M7SUFDcEM7SUFFQWdCLE1BQU1qQixPQUFPLEVBQUVDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7UUFDeEIsT0FBTyxJQUFJLENBQUNILElBQUksQ0FBQyxTQUFTRSxTQUFTQztJQUNyQztJQUVBaUIsTUFBTWxCLE9BQU8sRUFBRUMsT0FBTyxDQUFDLENBQUMsRUFBRTtRQUN4QixPQUFPLElBQUksQ0FBQ0gsSUFBSSxDQUFDLFNBQVNFLFNBQVNDO0lBQ3JDO0lBRUEsZUFBZTtJQUNmLE9BQU9rQixhQUFhO1FBQ2xCLE9BQU8sSUFBSS9CO0lBQ2I7QUFDRjtBQUVBLGlFQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktaW1hZ2UtdG9vbC8uL3V0aWxzL2FwaS9sb2dnZXIuanM/ZTBlZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDml6Xlv5fnuqfliKvpopzoibLphY3nva5cclxuY29uc3QgQ09MT1JTID0ge1xyXG4gIElORk86ICdcXHgxYlszNm0nLCAgIC8vIOmdkuiJslxyXG4gIFdBUk46ICdcXHgxYlszM20nLCAgIC8vIOm7hOiJslxyXG4gIEVSUk9SOiAnXFx4MWJbMzFtJywgIC8vIOe6ouiJslxyXG4gIERFQlVHOiAnXFx4MWJbMzVtJywgIC8vIOe0q+iJslxyXG4gIFJFU0VUOiAnXFx4MWJbMG0nICAgIC8vIOmHjee9rlxyXG59O1xyXG5cclxuLy8g6KGo5oOF56ym5Y+36YWN572uXHJcbmNvbnN0IEVNT0pJID0ge1xyXG4gIElORk86ICfwn5S1JyxcclxuICBXQVJOOiAn8J+foScsXHJcbiAgRVJST1I6ICfwn5S0JyxcclxuICBERUJVRzogJ/Cfn6MnXHJcbn07XHJcblxyXG5jbGFzcyBMb2dnZXIge1xyXG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RJZCkge1xyXG4gICAgdGhpcy5yZXF1ZXN0SWQgPSByZXF1ZXN0SWQgfHwgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xyXG4gICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gIH1cclxuXHJcbiAgX2xvZyhsZXZlbCwgbWVzc2FnZSwgZGF0YSA9IHt9KSB7XHJcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICBjb25zdCB0aW1lRWxhcHNlZCA9IERhdGUubm93KCkgLSB0aGlzLnN0YXJ0VGltZTtcclxuICAgIFxyXG4gICAgLy8g5p6E5bu65Z+656GA5pel5b+X5pWw5o2uXHJcbiAgICBjb25zdCBsb2dEYXRhID0ge1xyXG4gICAgICAuLi5kYXRhLFxyXG4gICAgICByZXF1ZXN0X2lkOiB0aGlzLnJlcXVlc3RJZCxcclxuICAgICAgdGltZV9lbGFwc2VkOiBgJHt0aW1lRWxhcHNlZH1tc2BcclxuICAgIH07XHJcblxyXG4gICAgLy8g5omT5Y2w5b2p6Imy5pel5b+X5aS0XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYCR7Q09MT1JTW2xldmVsXX1bJHt0aW1lc3RhbXB9XSAke0VNT0pJW2xldmVsXX0gJHtsZXZlbH0gWyR7dGhpcy5yZXF1ZXN0SWR9XSR7Q09MT1JTLlJFU0VUfWAsXHJcbiAgICAgIG1lc3NhZ2VcclxuICAgICk7XHJcblxyXG4gICAgLy8g5aaC5p6c5pyJ6aKd5aSW5pWw5o2u77yM5Lul54Gw6Imy5omT5Y2wXHJcbiAgICBpZiAoT2JqZWN0LmtleXMobG9nRGF0YSkubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnXFx4MWJbOTBtJXNcXHgxYlswbScsIEpTT04uc3RyaW5naWZ5KGxvZ0RhdGEsIG51bGwsIDIpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbG9nRGF0YTtcclxuICB9XHJcblxyXG4gIGluZm8obWVzc2FnZSwgZGF0YSA9IHt9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbG9nKCdJTkZPJywgbWVzc2FnZSwgZGF0YSk7XHJcbiAgfVxyXG5cclxuICB3YXJuKG1lc3NhZ2UsIGRhdGEgPSB7fSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xvZygnV0FSTicsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgZXJyb3IobWVzc2FnZSwgZGF0YSA9IHt9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbG9nKCdFUlJPUicsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgZGVidWcobWVzc2FnZSwgZGF0YSA9IHt9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbG9nKCdERUJVRycsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgLy8g5Yib5bu65LiA5Liq5paw55qE6K+35rGC5pel5b+X5a6e5L6LXHJcbiAgc3RhdGljIGZvclJlcXVlc3QoKSB7XHJcbiAgICByZXR1cm4gbmV3IExvZ2dlcigpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xyXG4iXSwibmFtZXMiOlsiQ09MT1JTIiwiSU5GTyIsIldBUk4iLCJFUlJPUiIsIkRFQlVHIiwiUkVTRVQiLCJFTU9KSSIsIkxvZ2dlciIsImNvbnN0cnVjdG9yIiwicmVxdWVzdElkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIl9sb2ciLCJsZXZlbCIsIm1lc3NhZ2UiLCJkYXRhIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJ0aW1lRWxhcHNlZCIsImxvZ0RhdGEiLCJyZXF1ZXN0X2lkIiwidGltZV9lbGFwc2VkIiwiY29uc29sZSIsImxvZyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJKU09OIiwic3RyaW5naWZ5IiwiaW5mbyIsIndhcm4iLCJlcnJvciIsImRlYnVnIiwiZm9yUmVxdWVzdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/api/logger.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimage%2Fmatting&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cimage%5Cmatting.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();